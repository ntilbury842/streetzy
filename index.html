<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>STREETZY | Premium Streetwear</title>
    <script src="https://js.stripe.com/v3/"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* ===== GLOBAL STYLES ===== */
        :root {
            --color-bg: #ffffff;
            --color-text: #111111;
            --color-border: #e5e5e5;
            --color-accent: #111111;
            --color-hover: #444444;
            --color-soldout: #999999;
            --color-sale: #ff3b30;
            --color-new: #4cd964;
            --font-main: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        html, body {
            font-family: var(--font-main);
            background-color: var(--color-bg);
            color: var(--color-text);
            overflow-x: hidden;
            width: 100%;
            min-height: 100vh;
        }

        a {
            text-decoration: none;
            color: inherit;
        }

        button {
            background: none;
            border: none;
            font-family: inherit;
            cursor: pointer;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* ===== ANNOUNCEMENT BAR ===== */
        .announcement-bar {
            background-color: var(--color-accent);
            color: white;
            text-align: center;
            padding: 12px 15px;
            font-size: 12px;
            font-weight: 500;
            letter-spacing: 0.5px;
            border-bottom: 1px solid var(--color-border);
        }

        /* ===== HEADER ===== */
        .main-header {
            position: sticky;
            top: 0;
            background: var(--color-bg);
            border-bottom: 1px solid var(--color-border);
            z-index: 1000;
            padding: 0 20px;
            backdrop-filter: blur(10px);
            background: rgba(255, 255, 255, 0.95);
        }

        .header-container {
            display: flex;
            align-items: center;
            justify-content: space-between;
            height: 70px;
        }

        .header-left {
            flex: 1;
            display: flex;
            align-items: center;
            gap: 30px;
        }

        .header-nav {
            display: none;
        }
        @media (min-width: 992px) {
            .header-nav {
                display: flex;
                align-items: center;
                gap: 25px;
            }
        }
        .nav-link {
            font-size: 13px;
            font-weight: 500;
            letter-spacing: 0.5px;
            text-transform: uppercase;
            transition: color 0.2s;
            position: relative;
        }
        .nav-link:hover {
            color: var(--color-hover);
        }
        .nav-link::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 0;
            height: 2px;
            background: var(--color-accent);
            transition: width 0.3s ease;
        }
        .nav-link:hover::after {
            width: 100%;
        }

        .header-center {
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
        }
        .site-logo {
            font-size: 26px;
            font-weight: 900;
            letter-spacing: -1px;
            background: linear-gradient(45deg, #111, #444);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .header-right {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: flex-end;
            gap: 25px;
        }
        .header-action {
            font-size: 14px;
            font-weight: 500;
            position: relative;
            display: flex;
            align-items: center;
            gap: 6px;
            transition: transform 0.2s;
        }
        .header-action:hover {
            transform: translateY(-2px);
        }
        .header-action i {
            font-size: 16px;
        }
        .cart-count {
            position: absolute;
            top: -8px;
            right: -8px;
            background: var(--color-accent);
            color: white;
            font-size: 10px;
            font-weight: 700;
            min-width: 18px;
            height: 18px;
            border-radius: 9px;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 0 4px;
            transform: scale(0.9);
            transition: transform 0.2s;
        }
        .cart-count.active {
            transform: scale(1);
        }

        /* ===== MOBILE FILTER BAR ===== */
        .mobile-filter-bar {
            display: flex;
            border-bottom: 1px solid var(--color-border);
            background: var(--color-bg);
        }
        @media (min-width: 768px) {
            .mobile-filter-bar {
                display: none;
            }
        }
        .mobile-filter-btn {
            flex: 1;
            padding: 16px;
            font-size: 13px;
            font-weight: 600;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            border-right: 1px solid var(--color-border);
            transition: background 0.2s;
        }
        .mobile-filter-btn:hover {
            background: #f9f9f9;
        }
        .mobile-filter-btn:last-child {
            border-right: none;
        }

        /* ===== MAIN CONTENT LAYOUT ===== */
        .main-content {
            display: flex;
            min-height: calc(100vh - 162px);
        }

        /* FILTER SIDEBAR */
        .filter-sidebar {
            width: 280px;
            border-right: 1px solid var(--color-border);
            padding: 40px 30px;
            display: none;
            position: relative;
            animation: slideInLeft 0.4s ease;
        }
        @keyframes slideInLeft {
            from { transform: translateX(-20px); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        @media (min-width: 768px) {
            .filter-sidebar {
                display: block;
            }
        }
        .filter-sidebar.active {
            display: block;
            position: fixed;
            top: 0;
            left: 0;
            bottom: 0;
            width: 100%;
            max-width: 320px;
            background: var(--color-bg);
            z-index: 1002;
            overflow-y: auto;
            padding: 30px;
            box-shadow: 2px 0 20px rgba(0,0,0,0.1);
            animation: slideIn 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        @keyframes slideIn {
            from { transform: translateX(-100%); }
            to { transform: translateX(0); }
        }

        .filter-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding-bottom: 15px;
            border-bottom: 2px solid var(--color-border);
        }
        .filter-title {
            font-size: 16px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        .close-filter {
            font-size: 24px;
            line-height: 1;
            cursor: pointer;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            transition: background 0.2s;
        }
        .close-filter:hover {
            background: #f5f5f5;
        }

        .filter-group {
            margin-bottom: 30px;
            animation: fadeIn 0.5s ease;
            animation-fill-mode: both;
        }
        .filter-group:nth-child(1) { animation-delay: 0.1s; }
        .filter-group:nth-child(2) { animation-delay: 0.2s; }
        .filter-group:nth-child(3) { animation-delay: 0.3s; }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .filter-group-title {
            font-size: 13px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: pointer;
            padding: 8px 0;
            transition: color 0.2s;
        }
        .filter-group-title:hover {
            color: var(--color-hover);
        }
        .filter-group-title i {
            transition: transform 0.3s ease;
        }
        .filter-group-content {
            display: block;
            max-height: 500px;
            overflow: hidden;
            transition: max-height 0.4s ease, opacity 0.3s ease;
        }
        .filter-group-content.collapsed {
            max-height: 0;
            opacity: 0;
        }
        .filter-option {
            display: flex;
            align-items: center;
            margin-bottom: 12px;
            cursor: pointer;
            padding: 6px 0;
            transition: transform 0.2s;
        }
        .filter-option:hover {
            transform: translateX(5px);
        }
        .filter-checkbox {
            width: 18px;
            height: 18px;
            border: 2px solid var(--color-border);
            margin-right: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s;
            border-radius: 3px;
        }
        .filter-checkbox.checked {
            background: var(--color-accent);
            border-color: var(--color-accent);
        }
        .filter-checkbox.checked::after {
            content: '✓';
            color: white;
            font-size: 12px;
            font-weight: bold;
        }
        .filter-label {
            font-size: 14px;
            color: var(--color-text);
            flex: 1;
        }
        .filter-count {
            font-size: 13px;
            color: #999;
            min-width: 25px;
            text-align: right;
        }

        /* PRODUCTS AREA */
        .products-area {
            flex: 1;
            padding: 40px;
            animation: fadeInUp 0.6s ease;
        }
        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .collection-header {
            margin-bottom: 40px;
            border-bottom: 1px solid var(--color-border);
            padding-bottom: 20px;
        }
        .collection-title {
            font-size: 42px;
            font-weight: 300;
            letter-spacing: -0.5px;
            margin-bottom: 10px;
            background: linear-gradient(45deg, #111, #444);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        .collection-count {
            font-size: 14px;
            color: #666;
            font-weight: 500;
        }

        /* PRODUCT GRID */
        .products-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 25px;
        }
        @media (min-width: 768px) {
            .products-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 30px;
            }
        }
        @media (min-width: 992px) {
            .products-grid {
                grid-template-columns: repeat(3, 1fr);
            }
        }
        @media (min-width: 1200px) {
            .products-grid {
                grid-template-columns: repeat(4, 1fr);
                gap: 35px;
            }
        }

        /* PRODUCT CARD */
        .product-card {
            position: relative;
            cursor: pointer;
            opacity: 0;
            transform: translateY(20px) scale(0.98);
            animation: productCardAppear 0.6s cubic-bezier(0.4, 0, 0.2, 1) forwards;
            transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .product-card:hover {
            transform: translateY(-5px) scale(1.02);
        }
        @keyframes productCardAppear {
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        .product-image-wrapper {
            position: relative;
            width: 100%;
            padding-top: 125%;
            overflow: hidden;
            background: linear-gradient(135deg, #f8f8f8 0%, #e8e8e8 100%);
            margin-bottom: 15px;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.05);
        }
        .product-image {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.8s cubic-bezier(0.4, 0, 0.2, 1);
            filter: brightness(1.02);
        }
        .product-card:hover .product-image {
            transform: scale(1.08);
            filter: brightness(1.05);
        }

        .product-badge {
            position: absolute;
            top: 12px;
            left: 12px;
            padding: 6px 12px;
            font-size: 10px;
            font-weight: 700;
            letter-spacing: 0.5px;
            z-index: 2;
            border-radius: 4px;
            text-transform: uppercase;
            animation: badgePulse 2s infinite;
        }
        @keyframes badgePulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        .badge-new {
            background: var(--color-new);
            color: white;
        }
        .badge-soldout {
            background: var(--color-soldout);
            color: white;
        }
        .badge-sale {
            background: var(--color-sale);
            color: white;
            animation: saleFlash 1s infinite alternate;
        }
        @keyframes saleFlash {
            from { box-shadow: 0 0 0 rgba(255, 59, 48, 0.4); }
            to { box-shadow: 0 0 10px rgba(255, 59, 48, 0.8); }
        }

        .product-info {
            text-align: center;
            padding: 10px 5px;
        }
        .product-title {
            font-size: 14px;
            font-weight: 500;
            margin-bottom: 8px;
            line-height: 1.4;
            letter-spacing: 0.2px;
        }
        .product-reviews {
            font-size: 11px;
            color: #666;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 2px;
        }
        .review-stars {
            color: #ffc107;
            letter-spacing: -1px;
        }
        .review-count {
            margin-left: 5px;
            font-weight: 500;
        }
        .product-price {
            font-size: 16px;
            font-weight: 700;
            letter-spacing: 0.5px;
        }
        .price-original {
            text-decoration: line-through;
            color: #999;
            margin-right: 8px;
            font-size: 14px;
            font-weight: 500;
        }

        /* OVERLAY */
        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.7);
            z-index: 1001;
            display: none;
            opacity: 0;
            transition: opacity 0.3s ease;
            backdrop-filter: blur(5px);
        }
        .overlay.active {
            display: block;
            opacity: 1;
        }

        /* ===== LOADING ===== */
        .loading {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: white;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 2000;
            opacity: 1;
            transition: opacity 0.5s ease;
        }
        .loading.hidden {
            opacity: 0;
            pointer-events: none;
        }
        .loader {
            width: 50px;
            height: 50px;
            border: 3px solid #f3f3f3;
            border-top: 3px solid var(--color-accent);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-bottom: 20px;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        .loading-text {
            font-size: 14px;
            color: #666;
            letter-spacing: 2px;
            text-transform: uppercase;
            animation: fadeInOut 1.5s infinite;
        }
        @keyframes fadeInOut {
            0%, 100% { opacity: 0.3; }
            50% { opacity: 1; }
        }

        /* ===== PAGINATION ===== */
        .pagination {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 8px;
            margin-top: 60px;
            padding-top: 30px;
            border-top: 1px solid var(--color-border);
        }
        .page-btn {
            width: 38px;
            height: 38px;
            border: 1px solid var(--color-border);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 13px;
            font-weight: 500;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .page-btn:hover, .page-btn.active {
            background: var(--color-accent);
            color: white;
            border-color: var(--color-accent);
            transform: scale(1.1);
        }
        .page-btn.disabled {
            opacity: 0.3;
            cursor: not-allowed;
            transform: none !important;
        }

        /* ===== MODALS ===== */
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            z-index: 1100;
            display: none;
            align-items: center;
            justify-content: center;
            padding: 20px;
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        .modal.active {
            display: flex;
            opacity: 1;
        }
        .modal-backdrop {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(10px);
        }
        .modal-content {
            background: white;
            width: 100%;
            max-width: 900px;
            max-height: 90vh;
            overflow-y: auto;
            border-radius: 12px;
            position: relative;
            z-index: 1;
            animation: modalAppear 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }
        @keyframes modalAppear {
            from { transform: scale(0.9) translateY(20px); opacity: 0; }
            to { transform: scale(1) translateY(0); opacity: 1; }
        }

        /* QUICK VIEW MODAL */
        .quick-view-modal .modal-content {
            max-width: 1200px;
        }
        .quick-view-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 40px;
            padding: 40px;
        }
        @media (max-width: 768px) {
            .quick-view-content {
                grid-template-columns: 1fr;
                gap: 30px;
                padding: 30px 20px;
            }
        }
        .quick-view-images {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        .main-image {
            width: 100%;
            padding-top: 100%;
            position: relative;
            overflow: hidden;
            border-radius: 12px;
            background: #f8f8f8;
        }
        .main-image img {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        .quick-view-details {
            padding: 20px 0;
        }
        .quick-view-title {
            font-size: 28px;
            font-weight: 400;
            margin-bottom: 15px;
            letter-spacing: -0.5px;
        }
        .quick-view-price {
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 25px;
            display: flex;
            align-items: center;
            gap: 15px;
        }
        .quick-view-original-price {
            text-decoration: line-through;
            color: #999;
            font-size: 20px;
            font-weight: 500;
        }
        .quick-view-discount {
            background: var(--color-sale);
            color: white;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: 700;
        }
        .quick-view-description {
            font-size: 15px;
            line-height: 1.6;
            color: #666;
            margin-bottom: 30px;
            padding-bottom: 25px;
            border-bottom: 1px solid var(--color-border);
        }
        .size-selector {
            margin-bottom: 30px;
        }
        .size-label {
            display: block;
            font-size: 13px;
            font-weight: 700;
            margin-bottom: 15px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        .size-options {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }
        .size-option {
            min-width: 45px;
            height: 45px;
            border: 2px solid var(--color-border);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            border-radius: 6px;
        }
        .size-option:hover {
            border-color: var(--color-accent);
            transform: translateY(-2px);
        }
        .size-option.selected {
            background: var(--color-accent);
            color: white;
            border-color: var(--color-accent);
        }
        .size-option.unavailable {
            opacity: 0.3;
            cursor: not-allowed;
            text-decoration: line-through;
        }
        .quantity-selector {
            display: flex;
            align-items: center;
            gap: 20px;
            margin-bottom: 35px;
        }
        .quantity-label {
            font-size: 13px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        .quantity-controls {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        .quantity-btn {
            width: 40px;
            height: 40px;
            border: 2px solid var(--color-accent);
            background: white;
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 8px;
            transition: all 0.2s;
        }
        .quantity-btn:hover {
            background: var(--color-accent);
            color: white;
            transform: scale(1.1);
        }
        .quantity-btn:disabled {
            opacity: 0.3;
            cursor: not-allowed;
            transform: none !important;
        }
        .quantity-display {
            font-size: 18px;
            font-weight: 700;
            min-width: 40px;
            text-align: center;
        }
        .quick-view-actions {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }
        .quick-view-btn {
            padding: 16px;
            font-size: 15px;
            font-weight: 700;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        .quick-view-btn.add-to-cart {
            background: var(--color-accent);
            color: white;
            border: 2px solid var(--color-accent);
        }
        .quick-view-btn.add-to-cart:hover {
            background: var(--color-hover);
            border-color: var(--color-hover);
            transform: translateY(-2px);
        }
        .quick-view-btn.buy-now {
            background: white;
            color: var(--color-accent);
            border: 2px solid var(--color-accent);
        }
        .quick-view-btn.buy-now:hover {
            background: var(--color-accent);
            color: white;
            transform: translateY(-2px);
        }
        .modal-close {
            position: absolute;
            top: 20px;
            right: 20px;
            background: white;
            border: none;
            width: 44px;
            height: 44px;
            border-radius: 50%;
            font-size: 24px;
            cursor: pointer;
            z-index: 2;
            color: var(--color-text);
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        .modal-close:hover {
            background: var(--color-accent);
            color: white;
            transform: rotate(90deg);
        }

        /* ===== MOBILE MENU ===== */
        .mobile-menu {
            position: fixed;
            top: 0;
            left: 0;
            bottom: 0;
            width: 100%;
            max-width: 320px;
            background: var(--color-bg);
            z-index: 1002;
            padding: 30px;
            transform: translateX(-100%);
            transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 2px 0 20px rgba(0,0,0,0.15);
            overflow-y: auto;
        }
        .mobile-menu.active {
            transform: translateX(0);
        }
        .mobile-menu-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 40px;
            padding-bottom: 20px;
            border-bottom: 2px solid var(--color-border);
        }
        .mobile-menu-logo {
            font-size: 22px;
            font-weight: 900;
            background: linear-gradient(45deg, #111, #444);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        .mobile-nav {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }
        .mobile-nav-link {
            font-size: 16px;
            font-weight: 500;
            text-transform: uppercase;
            letter-spacing: 1px;
            padding: 18px 0;
            border-bottom: 1px solid #f0f0f0;
            transition: all 0.2s;
            position: relative;
            overflow: hidden;
        }
        .mobile-nav-link:hover {
            color: var(--color-accent);
            transform: translateX(10px);
        }
        .mobile-nav-link::after {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(0,0,0,0.05), transparent);
            transition: left 0.5s;
        }
        .mobile-nav-link:hover::after {
            left: 100%;
        }

        /* ===== SEARCH MODAL ===== */
        .search-modal .modal-content {
            max-width: 800px;
            max-height: 80vh;
        }
        .search-header {
            padding: 30px;
            border-bottom: 1px solid var(--color-border);
            position: relative;
        }
        .search-close {
            position: absolute;
            top: 30px;
            right: 30px;
            font-size: 24px;
            cursor: pointer;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            transition: background 0.2s;
        }
        .search-close:hover {
            background: #f5f5f5;
        }
        .search-input-container {
            position: relative;
        }
        .search-input {
            width: 100%;
            border: none;
            font-size: 32px;
            font-family: inherit;
            outline: none;
            padding: 10px 0;
            font-weight: 300;
            letter-spacing: -0.5px;
        }
        .search-input::placeholder {
            color: #ccc;
        }
        .search-results {
            padding: 20px 30px 30px;
            max-height: 60vh;
            overflow-y: auto;
        }
        .search-result-item {
            display: flex;
            gap: 20px;
            padding: 20px;
            border-bottom: 1px solid var(--color-border);
            cursor: pointer;
            transition: background 0.2s;
            border-radius: 8px;
            margin-bottom: 10px;
        }
        .search-result-item:hover {
            background: #f9f9f9;
            transform: translateX(5px);
        }
        .search-result-image {
            width: 80px;
            height: 100px;
            background: #f5f5f5;
            flex-shrink: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 900;
            font-size: 24px;
            color: #ccc;
            border-radius: 6px;
        }
        .search-result-details {
            flex: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }
        .search-result-title {
            font-weight: 500;
            margin-bottom: 8px;
            font-size: 16px;
        }
        .search-result-price {
            font-weight: 700;
            color: var(--color-accent);
            font-size: 18px;
        }

        /* ===== CURRENCY SELECTOR ===== */
        .currency-selector {
            position: relative;
        }
        .currency-dropdown {
            position: absolute;
            top: calc(100% + 10px);
            right: 0;
            background: white;
            border: 1px solid var(--color-border);
            border-radius: 8px;
            padding: 10px 0;
            min-width: 140px;
            display: none;
            box-shadow: 0 10px 30px rgba(0,0,0,0.15);
            z-index: 100;
            animation: dropdownAppear 0.2s ease;
        }
        @keyframes dropdownAppear {
            from { opacity: 0; transform: translateY(-10px) scale(0.95); }
            to { opacity: 1; transform: translateY(0) scale(1); }
        }
        .currency-dropdown.active {
            display: block;
        }
        .currency-option {
            padding: 12px 20px;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        .currency-option:hover {
            background: #f8f8f8;
        }
        .currency-option.active {
            background: #f0f0f0;
            font-weight: 600;
        }
        .currency-option.active::after {
            content: '✓';
            font-weight: bold;
        }

        /* ===== CART SIDEBAR ===== */
        .cart-sidebar {
            position: fixed;
            top: 0;
            right: -100%;
            width: 100%;
            height: 100vh;
            background: var(--color-bg);
            z-index: 1002;
            transition: right 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            display: flex;
            flex-direction: column;
            box-shadow: -5px 0 30px rgba(0,0,0,0.2);
        }
        @media (min-width: 768px) {
            .cart-sidebar {
                width: 450px;
                right: -450px;
            }
        }
        .cart-sidebar.active {
            right: 0;
        }
        .cart-header {
            padding: 25px;
            border-bottom: 1px solid var(--color-border);
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: var(--color-accent);
            color: white;
        }
        .cart-title {
            font-size: 20px;
            font-weight: 700;
            letter-spacing: 0.5px;
        }
        .cart-close {
            background: none;
            border: none;
            font-size: 28px;
            cursor: pointer;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            border-radius: 50%;
            transition: background 0.2s;
        }
        .cart-close:hover {
            background: rgba(255,255,255,0.1);
        }
        .cart-items {
            flex: 1;
            overflow-y: auto;
            padding: 25px;
        }
        .cart-empty {
            text-align: center;
            padding: 80px 20px;
            color: #999;
            font-size: 18px;
        }
        .cart-item {
            background: #fff;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
            border: 1px solid var(--color-border);
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
            display: flex;
            flex-direction: column;
            position: relative;
            animation: cartItemAppear 0.3s ease;
        }
        @keyframes cartItemAppear {
            from { opacity: 0; transform: translateX(20px); }
            to { opacity: 1; transform: translateX(0); }
        }
        .cart-item-header {
            display: flex;
            gap: 20px;
            margin-bottom: 20px;
        }
        .cart-item-image {
            width: 100px;
            height: 120px;
            background: linear-gradient(135deg, #f5f5f5, #e8e8e8);
            flex-shrink: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 32px;
            font-weight: 800;
            color: #ccc;
            border-radius: 8px;
        }
        .cart-item-info {
            flex: 1;
        }
        .cart-item-name {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 8px;
        }
        .cart-item-details {
            font-size: 14px;
            color: #666;
            margin-bottom: 12px;
        }
        .cart-item-price {
            font-size: 18px;
            font-weight: 700;
            color: var(--color-accent);
        }
        .cart-item-actions {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-top: 16px;
            padding-top: 16px;
            border-top: 1px solid var(--color-border);
        }
        .cart-item-qty {
            display: flex;
            align-items: center;
            gap: 12px;
        }
        .qty-btn {
            width: 32px;
            height: 32px;
            border: 2px solid var(--color-accent);
            background: #fff;
            cursor: pointer;
            font-size: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 6px;
            transition: all 0.2s;
        }
        .qty-btn:hover {
            background: var(--color-accent);
            color: white;
        }
        .remove-btn {
            font-size: 14px;
            color: var(--color-accent);
            text-decoration: underline;
            cursor: pointer;
            background: none;
            border: none;
            font-weight: 600;
            transition: color 0.2s;
        }
        .remove-btn:hover {
            color: var(--color-sale);
        }
        .cart-footer {
            padding: 25px;
            border-top: 1px solid var(--color-border);
            background: #fff;
            box-shadow: 0 -4px 20px rgba(0,0,0,0.05);
        }
        .cart-summary {
            background: #f9f9f9;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 25px;
        }
        .summary-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 12px;
            font-size: 15px;
        }
        .summary-row.total {
            font-weight: 700;
            font-size: 18px;
            margin-top: 16px;
            padding-top: 16px;
            border-top: 2px solid #ddd;
        }
        .cart-actions {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }
        .cart-action-btn {
            padding: 16px;
            font-size: 15px;
            font-weight: 700;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        .cart-checkout-btn {
            background: var(--color-accent);
            color: white;
            border: 2px solid var(--color-accent);
        }
        .cart-checkout-btn:hover {
            background: var(--color-hover);
            border-color: var(--color-hover);
            transform: translateY(-2px);
        }
        .cart-continue-btn {
            background: #f5f5f5;
            color: var(--color-text);
            border: 2px solid #e5e5e5;
        }
        .cart-continue-btn:hover {
            background: #e8e8e8;
            border-color: #ddd;
            transform: translateY(-2px);
        }

        /* ===== CHECKOUT MODAL ===== */
        .checkout-modal .modal-content {
            max-width: 500px;
        }
        .checkout-header {
            padding: 30px;
            text-align: center;
            background: var(--color-accent);
            color: white;
            position: relative;
            border-radius: 12px 12px 0 0;
        }
        .checkout-title {
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 8px;
            letter-spacing: 0.5px;
        }
        .checkout-subtitle {
            font-size: 14px;
            color: rgba(255,255,255,0.8);
            letter-spacing: 0.5px;
        }
        .checkout-steps {
            display: flex;
            padding: 25px 30px;
            background: #f8f8f8;
            border-bottom: 1px solid var(--color-border);
        }
        .step {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            position: relative;
        }
        .step:not(:last-child)::after {
            content: '';
            position: absolute;
            top: 15px;
            right: -50%;
            width: 100%;
            height: 2px;
            background: #ddd;
            z-index: 1;
        }
        .step-number {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            background: #fff;
            border: 3px solid #ddd;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            font-weight: 700;
            margin-bottom: 10px;
            position: relative;
            z-index: 2;
            transition: all 0.3s;
        }
        .step.active .step-number {
            background: var(--color-accent);
            border-color: var(--color-accent);
            color: #fff;
            transform: scale(1.1);
        }
        .step-label {
            font-size: 11px;
            font-weight: 600;
            color: #999;
            text-transform: uppercase;
            letter-spacing: 1px;
            transition: color 0.3s;
        }
        .step.active .step-label {
            color: var(--color-accent);
        }
        .checkout-body {
            padding: 30px;
        }
        .checkout-section {
            display: none;
        }
        .checkout-section.active {
            display: block;
            animation: fadeInUp 0.4s ease;
        }
        .checkout-section-title {
            font-size: 20px;
            font-weight: 700;
            margin-bottom: 25px;
            text-align: center;
        }
        .form-group {
            margin-bottom: 20px;
        }
        .form-label {
            display: block;
            font-size: 13px;
            font-weight: 700;
            margin-bottom: 8px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        .form-input {
            width: 100%;
            padding: 15px;
            border: 2px solid #ddd;
            font-size: 15px;
            font-family: inherit;
            border-radius: 8px;
            transition: all 0.2s;
            background: #fafafa;
        }
        .form-input:focus {
            outline: none;
            border-color: var(--color-accent);
            background: white;
            box-shadow: 0 0 0 3px rgba(0,0,0,0.05);
        }
        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }
        .shipping-options {
            margin-bottom: 25px;
        }
        .shipping-option {
            display: flex;
            align-items: center;
            padding: 18px;
            border: 2px solid #ddd;
            border-radius: 10px;
            margin-bottom: 12px;
            cursor: pointer;
            transition: all 0.2s;
        }
        .shipping-option:hover {
            border-color: #bbb;
            background: #f9f9f9;
        }
        .shipping-option.selected {
            border-color: var(--color-accent);
            background: #f0f8ff;
        }
        .shipping-radio {
            width: 22px;
            height: 22px;
            border: 2px solid #ddd;
            border-radius: 50%;
            margin-right: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: border-color 0.2s;
            flex-shrink: 0;
        }
        .shipping-option.selected .shipping-radio {
            border-color: var(--color-accent);
        }
        .shipping-option.selected .shipping-radio::after {
            content: '';
            width: 10px;
            height: 10px;
            background: var(--color-accent);
            border-radius: 50%;
        }
        .shipping-info {
            flex: 1;
        }
        .shipping-name {
            font-weight: 600;
            font-size: 15px;
            margin-bottom: 5px;
        }
        .shipping-details {
            font-size: 13px;
            color: #666;
            margin-bottom: 5px;
        }
        .shipping-price {
            font-weight: 700;
            font-size: 16px;
            color: var(--color-accent);
        }
        .order-summary {
            background: #f9f9f9;
            border-radius: 10px;
            padding: 20px;
            margin: 25px 0;
        }
        .checkout-actions {
            display: flex;
            gap: 15px;
            margin-top: 25px;
        }
        .checkout-btn {
            flex: 1;
            padding: 16px;
            font-size: 15px;
            font-weight: 700;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        .checkout-btn.secondary {
            background: #f5f5f5;
            color: var(--color-text);
            border: 2px solid #e5e5e5;
        }
        .checkout-btn.secondary:hover {
            background: #e8e8e8;
            border-color: #ddd;
            transform: translateY(-2px);
        }
        .checkout-btn.primary {
            background: var(--color-accent);
            color: white;
            border: 2px solid var(--color-accent);
        }
        .checkout-btn.primary:hover {
            background: var(--color-hover);
            border-color: var(--color-hover);
            transform: translateY(-2px);
        }
        .error-message {
            background: #ffeaea;
            border: 2px solid #ff3b30;
            color: #d32f2f;
            padding: 12px;
            border-radius: 8px;
            font-size: 14px;
            margin-bottom: 20px;
            text-align: center;
            display: none;
            animation: shake 0.5s ease;
        }
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
            20%, 40%, 60%, 80% { transform: translateX(5px); }
        }
        .error-message.active {
            display: block;
        }

        /* ===== AUTH MODAL ===== */
        .auth-modal .modal-content {
            max-width: 450px;
        }
        .auth-header {
            padding: 30px;
            text-align: center;
            background: var(--color-accent);
            color: #fff;
            border-radius: 12px 12px 0 0;
        }
        .auth-title {
            font-size: 24px;
            font-weight: 700;
            letter-spacing: 0.5px;
        }
        .auth-tabs {
            display: flex;
            border-bottom: 1px solid var(--color-border);
            background: #f8f8f8;
        }
        .auth-tab {
            flex: 1;
            padding: 18px;
            background: none;
            border: none;
            font-size: 15px;
            font-weight: 600;
            color: #666;
            cursor: pointer;
            border-bottom: 3px solid transparent;
            transition: all 0.3s;
        }
        .auth-tab.active {
            color: var(--color-accent);
            border-bottom-color: var(--color-accent);
            background: #fff;
        }
        .auth-body {
            padding: 30px;
        }
        .auth-form {
            display: none;
        }
        .auth-form.active {
            display: block;
            animation: fadeIn 0.4s ease;
        }
        .auth-form .form-group {
            margin-bottom: 20px;
        }
        .auth-form .form-input {
            background: white;
        }
        .auth-submit-btn {
            width: 100%;
            padding: 16px;
            background: var(--color-accent);
            color: white;
            border: none;
            font-size: 15px;
            font-weight: 700;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-top: 10px;
        }
        .auth-submit-btn:hover {
            background: var(--color-hover);
            transform: translateY(-2px);
        }

        /* ===== SUCCESS MESSAGE ===== */
        .success-message {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: #fff;
            border-radius: 16px;
            padding: 50px 40px;
            text-align: center;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            z-index: 2000;
            display: none;
            max-width: 400px;
            width: 90%;
            animation: successAppear 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        }
        @keyframes successAppear {
            from { opacity: 0; transform: translate(-50%, -40%) scale(0.9); }
            to { opacity: 1; transform: translate(-50%, -50%) scale(1); }
        }
        .success-message.active {
            display: block;
        }
        .success-icon {
            font-size: 60px;
            margin-bottom: 25px;
            color: #4cd964;
            animation: successIcon 0.6s ease;
        }
        @keyframes successIcon {
            0% { transform: scale(0); opacity: 0; }
            70% { transform: scale(1.2); opacity: 1; }
            100% { transform: scale(1); opacity: 1; }
        }
        .success-title {
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 15px;
            color: var(--color-accent);
        }
        .success-text {
            font-size: 16px;
            color: #666;
            margin-bottom: 30px;
            line-height: 1.6;
        }
        .success-btn {
            width: 100%;
            padding: 16px;
            background: var(--color-accent);
            color: white;
            border: none;
            font-size: 15px;
            font-weight: 700;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        .success-btn:hover {
            background: var(--color-hover);
            transform: translateY(-2px);
        }

        /* ===== DASHBOARD MODAL ===== */
        .dashboard-modal .modal-content {
            max-width: 900px;
        }
        .dashboard-header {
            padding: 30px;
            background: var(--color-accent);
            color: #fff;
            text-align: center;
            border-radius: 12px 12px 0 0;
        }
        .dashboard-title {
            font-size: 28px;
            font-weight: 700;
            margin-bottom: 8px;
            letter-spacing: 0.5px;
        }
        .dashboard-subtitle {
            font-size: 14px;
            color: rgba(255,255,255,0.8);
        }
        .dashboard-tabs {
            display: flex;
            border-bottom: 1px solid var(--color-border);
            background: #f8f8f8;
            overflow-x: auto;
        }
        .dashboard-tab {
            padding: 18px 25px;
            background: none;
            border: none;
            font-size: 14px;
            font-weight: 600;
            color: #666;
            cursor: pointer;
            border-bottom: 3px solid transparent;
            transition: all 0.3s;
            white-space: nowrap;
            flex-shrink: 0;
        }
        .dashboard-tab.active {
            color: var(--color-accent);
            border-bottom-color: var(--color-accent);
            background: #fff;
        }
        .dashboard-body {
            padding: 30px;
            max-height: 60vh;
            overflow-y: auto;
        }
        .dashboard-section {
            display: none;
        }
        .dashboard-section.active {
            display: block;
            animation: fadeIn 0.4s ease;
        }
        .dashboard-section h3 {
            font-size: 22px;
            font-weight: 700;
            margin-bottom: 25px;
            text-align: center;
            color: var(--color-accent);
        }
        .orders-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }
        .orders-table th {
            text-align: left;
            padding: 15px;
            border-bottom: 3px solid var(--color-accent);
            font-size: 13px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: var(--color-accent);
            background: #f9f9f9;
        }
        .orders-table td {
            padding: 15px;
            border-bottom: 1px solid #e8e8e8;
            font-size: 14px;
        }
        .orders-table tr:hover {
            background: #f9f9f9;
        }
        .status-badge {
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        .status-processing {
            background: #fff3cd;
            color: #856404;
        }
        .status-shipped {
            background: #d4edda;
            color: #155724;
        }
        .dashboard-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        .stat-card {
            background: #f9f9f9;
            padding: 25px;
            border-radius: 12px;
            text-align: center;
            transition: transform 0.3s;
        }
        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }
        .stat-value {
            font-size: 36px;
            font-weight: 900;
            margin-bottom: 10px;
            color: var(--color-accent);
            background: linear-gradient(45deg, #111, #444);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        .stat-label {
            font-size: 14px;
            color: #666;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        /* ===== ADD PRODUCT MODAL ===== */
        .add-product-modal .modal-content {
            max-width: 600px;
        }
        .add-product-header {
            padding: 30px;
            background: var(--color-accent);
            color: #fff;
            text-align: center;
            border-radius: 12px 12px 0 0;
        }
        .add-product-title {
            font-size: 24px;
            font-weight: 700;
            letter-spacing: 0.5px;
        }
        .add-product-body {
            padding: 30px;
        }
        .image-upload {
            border: 3px dashed #ddd;
            border-radius: 12px;
            padding: 40px 20px;
            text-align: center;
            cursor: pointer;
            margin-bottom: 25px;
            transition: all 0.3s;
            background: #fafafa;
        }
        .image-upload:hover {
            border-color: var(--color-accent);
            background: #f0f8ff;
        }
        .image-upload-icon {
            font-size: 40px;
            margin-bottom: 12px;
            color: #999;
        }
        .image-preview {
            width: 100%;
            height: 250px;
            background: linear-gradient(135deg, #f5f5f5, #e8e8e8);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 60px;
            font-weight: 900;
            color: #ccc;
            margin-bottom: 25px;
            overflow: hidden;
            position: relative;
        }
        .image-preview img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        .add-product-actions {
            display: flex;
            gap: 15px;
            margin-top: 25px;
        }
        .add-product-btn {
            flex: 1;
            padding: 16px;
            font-size: 15px;
            font-weight: 700;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        .add-product-btn.cancel {
            background: #f5f5f5;
            color: var(--color-text);
            border: 2px solid #e5e5e5;
        }
        .add-product-btn.cancel:hover {
            background: #e8e8e8;
            border-color: #ddd;
            transform: translateY(-2px);
        }
        .add-product-btn.submit {
            background: var(--color-accent);
            color: white;
            border: 2px solid var(--color-accent);
        }
        .add-product-btn.submit:hover {
            background: var(--color-hover);
            border-color: var(--color-hover);
            transform: translateY(-2px);
        }

        /* ===== TOAST MESSAGES ===== */
        .toast {
            position: fixed;
            top: 100px;
            right: 20px;
            padding: 16px 24px;
            border-radius: 10px;
            font-weight: 600;
            z-index: 3000;
            min-width: 300px;
            max-width: 400px;
            text-align: center;
            box-shadow: 0 10px 30px rgba(0,0,0,0.15);
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 15px;
            transform: translateX(100%);
            opacity: 0;
            transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1), opacity 0.4s;
            backdrop-filter: blur(10px);
        }
        .toast.show {
            transform: translateX(0);
            opacity: 1;
        }
        .toast-success {
            background: rgba(76, 217, 100, 0.95);
            color: white;
            border-left: 4px solid #4cd964;
        }
        .toast-error {
            background: rgba(255, 59, 48, 0.95);
            color: white;
            border-left: 4px solid #ff3b30;
        }
        .toast-info {
            background: rgba(0, 122, 255, 0.95);
            color: white;
            border-left: 4px solid #007aff;
        }
        .toast-icon {
            font-size: 20px;
        }
        .toast-message {
            flex: 1;
            text-align: left;
            font-size: 14px;
            line-height: 1.4;
        }
        .toast-close {
            background: none;
            border: none;
            color: white;
            cursor: pointer;
            font-size: 18px;
            opacity: 0.7;
            transition: opacity 0.2s;
        }
        .toast-close:hover {
            opacity: 1;
        }

        /* ===== SCROLLBAR STYLING ===== */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb {
            background: #888;
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #555;
        }

        /* ===== UTILITY CLASSES ===== */
        .hidden {
            display: none !important;
        }
        .text-center {
            text-align: center;
        }
        .mb-20 {
            margin-bottom: 20px;
        }
        .mt-20 {
            margin-top: 20px;
        }
        .fade-in {
            animation: fadeIn 0.5s ease;
        }
    </style>
</head>
<body>
    <!-- Loading Screen -->
    <div class="loading" id="loadingScreen">
        <div class="loader"></div>
        <div class="loading-text">STREETZY</div>
    </div>

    <!-- Announcement Bar -->
    <div class="announcement-bar">
        FREE SHIPPING ON ALL ORDERS • CHOOSE ANY 3 ITEMS AND SAVE 20%
    </div>

    <!-- Main Header -->
    <header class="main-header">
        <div class="container header-container">
            <div class="header-left">
                <nav class="header-nav">
                    <a href="#" class="nav-link" data-filter="all">All Products</a>
                    <a href="#" class="nav-link" data-filter="hoodies">Hoodies</a>
                    <a href="#" class="nav-link" data-filter="tees">Tees</a>
                    <a href="#" class="nav-link" data-filter="headwear">Headwear</a>
                </nav>
            </div>

            <div class="header-center">
                <a href="#" class="site-logo" id="homeLogo">STREETZY</a>
            </div>

            <div class="header-right">
                <div class="currency-selector">
                    <button class="header-action" id="currencyToggle">
                        USD $
                    </button>
                    <div class="currency-dropdown" id="currencyDropdown">
                        <div class="currency-option" data-currency="USD">USD $</div>
                        <div class="currency-option" data-currency="EUR">EUR €</div>
                        <div class="currency-option" data-currency="GBP">GBP £</div>
                        <div class="currency-option" data-currency="AUD">AUD $</div>
                    </div>
                </div>

                <button class="header-action" id="searchToggle">
                    <i class="fas fa-search"></i>
                </button>

                <button class="header-action" id="userToggle">
                    <i class="far fa-user"></i>
                </button>

                <button class="header-action" id="cartToggle">
                    <i class="fas fa-shopping-bag"></i>
                    <span class="cart-count" id="cartCount">0</span>
                </button>
            </div>
        </div>
    </header>

    <!-- Mobile Filter Bar -->
    <div class="mobile-filter-bar">
        <button class="mobile-filter-btn" id="mobileFilterToggle">
            <i class="fas fa-sliders-h"></i> Filter
        </button>
        <button class="mobile-filter-btn" id="mobileMenuToggle">
            <i class="fas fa-bars"></i> Menu
        </button>
    </div>

    <!-- Overlay -->
    <div class="overlay" id="overlay"></div>

    <!-- Main Content -->
    <div class="main-content">
        <!-- Filter Sidebar -->
        <aside class="filter-sidebar" id="filterSidebar">
            <div class="filter-header">
                <h2 class="filter-title">Filters</h2>
                <button class="close-filter" id="closeFilter">&times;</button>
            </div>

            <div class="filter-group">
                <div class="filter-group-title" data-group="category">
                    Category
                    <i class="fas fa-chevron-down"></i>
                </div>
                <div class="filter-group-content" id="categoryFilters">
                    <div class="filter-option" data-filter="all">
                        <div class="filter-checkbox checked"></div>
                        <span class="filter-label">All Products</span>
                        <span class="filter-count" id="countAll">12</span>
                    </div>
                    <div class="filter-option" data-filter="hoodies">
                        <div class="filter-checkbox"></div>
                        <span class="filter-label">Hoodies</span>
                        <span class="filter-count" id="countHoodies">5</span>
                    </div>
                    <div class="filter-option" data-filter="tees">
                        <div class="filter-checkbox"></div>
                        <span class="filter-label">Tees</span>
                        <span class="filter-count" id="countTees">4</span>
                    </div>
                    <div class="filter-option" data-filter="headwear">
                        <div class="filter-checkbox"></div>
                        <span class="filter-label">Headwear</span>
                        <span class="filter-count" id="countHeadwear">3</span>
                    </div>
                </div>
            </div>

            <div class="filter-group">
                <div class="filter-group-title" data-group="style">
                    Style
                    <i class="fas fa-chevron-down"></i>
                </div>
                <div class="filter-group-content" id="styleFilters">
                    <div class="filter-option" data-style="oversized">
                        <div class="filter-checkbox"></div>
                        <span class="filter-label">Oversized</span>
                    </div>
                    <div class="filter-option" data-style="fitted">
                        <div class="filter-checkbox"></div>
                        <span class="filter-label">Fitted</span>
                    </div>
                    <div class="filter-option" data-style="graphic">
                        <div class="filter-checkbox"></div>
                        <span class="filter-label">Graphic</span>
                    </div>
                    <div class="filter-option" data-style="minimal">
                        <div class="filter-checkbox"></div>
                        <span class="filter-label">Minimal</span>
                    </div>
                </div>
            </div>

            <div class="filter-group">
                <div class="filter-group-title" data-group="price">
                    Price
                    <i class="fas fa-chevron-down"></i>
                </div>
                <div class="filter-group-content" id="priceFilters">
                    <div class="filter-option" data-price="under50">
                        <div class="filter-checkbox"></div>
                        <span class="filter-label">Under $50</span>
                    </div>
                    <div class="filter-option" data-price="50-100">
                        <div class="filter-checkbox"></div>
                        <span class="filter-label">$50 - $100</span>
                    </div>
                    <div class="filter-option" data-price="over100">
                        <div class="filter-checkbox"></div>
                        <span class="filter-label">Over $100</span>
                    </div>
                </div>
            </div>
        </aside>

        <!-- Products Area -->
        <main class="products-area">
            <div class="collection-header">
                <h1 class="collection-title" id="collectionTitle">All Products</h1>
                <p class="collection-count" id="productCount">12 products</p>
            </div>

            <div class="products-grid" id="productsGrid">
                <!-- Products loaded by JavaScript -->
            </div>

            <!-- Pagination -->
            <div class="pagination" id="pagination">
                <button class="page-btn prev disabled">
                    <i class="fas fa-chevron-left"></i>
                </button>
                <button class="page-btn active">1</button>
                <button class="page-btn next disabled">
                    <i class="fas fa-chevron-right"></i>
                </button>
            </div>
        </main>
    </div>

    <!-- Mobile Menu -->
    <div class="mobile-menu" id="mobileMenu">
        <div class="mobile-menu-header">
            <div class="mobile-menu-logo">STREETZY</div>
            <button class="close-filter" id="closeMobileMenu">&times;</button>
        </div>
        <nav class="mobile-nav">
            <a href="#" class="mobile-nav-link" data-filter="all">All Products</a>
            <a href="#" class="mobile-nav-link" data-filter="hoodies">Hoodies</a>
            <a href="#" class="mobile-nav-link" data-filter="tees">Tees</a>
            <a href="#" class="mobile-nav-link" data-filter="headwear">Headwear</a>
            <a href="#" class="mobile-nav-link" id="mobileOrders">My Orders</a>
            <a href="#" class="mobile-nav-link" id="mobileAccount">Account</a>
        </nav>
    </div>

    <!-- Search Modal -->
    <div class="modal search-modal" id="searchModal">
        <div class="modal-backdrop" id="searchBackdrop"></div>
        <div class="modal-content">
            <div class="search-header">
                <div class="search-input-container">
                    <input type="text" class="search-input" id="searchInput" placeholder="Search products..." autocomplete="off">
                </div>
                <button class="search-close" id="closeSearch">&times;</button>
            </div>
            <div class="search-results" id="searchResults">
                <div class="text-center" style="padding: 60px 20px; color: #666;">
                    Start typing to search products...
                </div>
            </div>
        </div>
    </div>

    <!-- Quick View Modal -->
    <div class="modal quick-view-modal" id="quickViewModal">
        <div class="modal-backdrop" id="quickViewBackdrop"></div>
        <div class="modal-content">
            <button class="modal-close" id="closeQuickView">&times;</button>
            <div class="quick-view-content" id="quickViewContent">
                <!-- Loaded by JavaScript -->
            </div>
        </div>
    </div>

    <!-- Cart Sidebar -->
    <div class="cart-sidebar" id="cartSidebar">
        <div class="cart-header">
            <div class="cart-title">Shopping Cart</div>
            <button class="cart-close" id="cartCloseBtn">&times;</button>
        </div>
        
        <div class="cart-items" id="cartItems">
            <div class="cart-empty">Your cart is empty</div>
        </div>
        
        <div class="cart-footer" id="cartFooter" style="display: none;">
            <div class="cart-summary">
                <div class="summary-row">
                    <span>Subtotal</span>
                    <span id="cartSubtotal">$0.00</span>
                </div>
                <div class="summary-row">
                    <span>Shipping</span>
                    <span id="cartShipping">Calculated at checkout</span>
                </div>
                <div class="summary-row total">
                    <span>Total</span>
                    <span id="cartTotal">$0.00</span>
                </div>
            </div>
            
            <div class="cart-actions">
                <button class="cart-action-btn cart-checkout-btn" id="checkoutBtn">Checkout</button>
                <button class="cart-action-btn cart-continue-btn" id="continueShoppingBtn">Continue Shopping</button>
            </div>
        </div>
    </div>

    <!-- Checkout Modal -->
    <div class="modal checkout-modal" id="checkoutModal">
        <div class="modal-backdrop" id="checkoutBackdrop"></div>
        <div class="modal-content">
            <button class="modal-close" id="checkoutCloseBtn">&times;</button>
            
            <div class="checkout-header">
                <h2 class="checkout-title">Secure Checkout</h2>
                <p class="checkout-subtitle">Complete your purchase in 3 simple steps</p>
            </div>
            
            <div class="checkout-steps">
                <div class="step active" id="step1">
                    <div class="step-number">1</div>
                    <div class="step-label">Contact</div>
                </div>
                <div class="step" id="step2">
                    <div class="step-number">2</div>
                    <div class="step-label">Shipping</div>
                </div>
                <div class="step" id="step3">
                    <div class="step-number">3</div>
                    <div class="step-label">Payment</div>
                </div>
            </div>
            
            <div class="checkout-body">
                <!-- Step 1: Contact -->
                <div class="checkout-section active" id="contactSection">
                    <h3 class="checkout-section-title">Contact Information</h3>
                    
                    <div class="error-message" id="contactError"></div>
                    
                    <div class="form-group">
                        <label class="form-label">Email Address</label>
                        <input type="email" class="form-input" id="checkoutEmail" required>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Full Name</label>
                        <input type="text" class="form-input" id="checkoutName" required>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Phone Number</label>
                        <input type="tel" class="form-input" id="checkoutPhone" required>
                    </div>
                    
                    <div class="checkout-actions">
                        <button type="button" class="checkout-btn secondary" id="checkoutCancelBtn">Cancel</button>
                        <button type="button" class="checkout-btn primary" id="continueToShippingBtn">Continue to Shipping</button>
                    </div>
                </div>
                
                <!-- Step 2: Shipping -->
                <div class="checkout-section" id="shippingSection">
                    <h3 class="checkout-section-title">Shipping Method</h3>
                    
                    <div class="error-message" id="shippingError"></div>
                    
                    <div class="shipping-options">
                        <div class="shipping-option selected" data-shipping="standard" data-price="5.99">
                            <div class="shipping-radio"></div>
                            <div class="shipping-info">
                                <div class="shipping-name">Standard Shipping</div>
                                <div class="shipping-details">5-10 business days</div>
                                <div class="shipping-price">$5.99</div>
                            </div>
                        </div>
                        
                        <div class="shipping-option" data-shipping="express" data-price="9.99">
                            <div class="shipping-radio"></div>
                            <div class="shipping-info">
                                <div class="shipping-name">Express Shipping</div>
                                <div class="shipping-details">3-5 business days</div>
                                <div class="shipping-price">$9.99</div>
                            </div>
                        </div>
                        
                        <div class="shipping-option" data-shipping="priority" data-price="15.99">
                            <div class="shipping-radio"></div>
                            <div class="shipping-info">
                                <div class="shipping-name">Priority Shipping</div>
                                <div class="shipping-details">1-3 business days</div>
                                <div class="shipping-price">$15.99</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Address</label>
                        <input type="text" class="form-input" id="checkoutAddress" required>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">City</label>
                            <input type="text" class="form-input" id="checkoutCity" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label">ZIP Code</label>
                            <input type="text" class="form-input" id="checkoutZip" required>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Country</label>
                        <select class="form-input" id="checkoutCountry" required>
                            <option value="">Select Country</option>
                            <option value="United States">United States</option>
                            <option value="Canada">Canada</option>
                            <option value="United Kingdom">United Kingdom</option>
                            <option value="Australia">Australia</option>
                        </select>
                    </div>
                    
                    <div class="checkout-actions">
                        <button type="button" class="checkout-btn secondary" id="backToContactBtn">Back</button>
                        <button type="button" class="checkout-btn primary" id="continueToPaymentBtn">Continue to Payment</button>
                    </div>
                </div>
                
                <!-- Step 3: Payment -->
                <div class="checkout-section" id="paymentSection">
                    <h3 class="checkout-section-title">Payment Information</h3>
                    
                    <div class="error-message" id="paymentError"></div>
                    
                    <div class="form-group">
                        <label class="form-label">Card Number</label>
                        <input type="text" class="form-input" id="cardNumber" placeholder="1234 5678 9012 3456" required>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">Expiry Date</label>
                            <input type="text" class="form-input" id="cardExpiry" placeholder="MM/YY" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label">CVC</label>
                            <input type="text" class="form-input" id="cardCvc" placeholder="123" required>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Name on Card</label>
                        <input type="text" class="form-input" id="cardName" required>
                    </div>
                    
                    <div class="order-summary" id="checkoutSummary">
                        <!-- Order summary will be loaded here -->
                    </div>
                    
                    <div class="checkout-actions">
                        <button type="button" class="checkout-btn secondary" id="backToShippingBtn">Back</button>
                        <button type="button" class="checkout-btn primary" id="submitPaymentBtn">Pay Now</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Authentication Modal -->
    <div class="modal auth-modal" id="authModal">
        <div class="modal-backdrop" id="authBackdrop"></div>
        <div class="modal-content">
            <button class="modal-close" id="authCloseBtn">&times;</button>
            
            <div class="auth-header">
                <h2 class="auth-title">Welcome to STREETZY</h2>
            </div>
            
            <div class="auth-tabs">
                <button class="auth-tab active" id="loginTabBtn">Login</button>
                <button class="auth-tab" id="registerTabBtn">Register</button>
            </div>
            
            <div class="auth-body">
                <!-- Login Form -->
                <form id="loginForm" class="auth-form active">
                    <div class="form-group">
                        <label class="form-label">Email or Username</label>
                        <input type="text" class="form-input" id="loginEmail" required>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Password</label>
                        <input type="password" class="form-input" id="loginPassword" required>
                    </div>
                    
                    <div class="error-message" id="loginError"></div>
                    
                    <button type="submit" class="auth-submit-btn">Login</button>
                </form>
                
                <!-- Register Form -->
                <form id="registerForm" class="auth-form">
                    <div class="form-group">
                        <label class="form-label">Username</label>
                        <input type="text" class="form-input" id="registerUsername" required>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Email</label>
                        <input type="email" class="form-input" id="registerEmail" required>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Password</label>
                        <input type="password" class="form-input" id="registerPassword" required>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Confirm Password</label>
                        <input type="password" class="form-input" id="registerConfirm" required>
                    </div>
                    
                    <div class="error-message" id="registerError"></div>
                    
                    <button type="submit" class="auth-submit-btn">Create Account</button>
                </form>
            </div>
        </div>
    </div>

    <!-- Owner Dashboard -->
    <div class="modal dashboard-modal" id="dashboardModal">
        <div class="modal-backdrop" id="dashboardBackdrop"></div>
        <div class="modal-content">
            <button class="modal-close" id="dashboardCloseBtn">&times;</button>
            
            <div class="dashboard-header">
                <h2 class="dashboard-title">Owner Dashboard</h2>
                <p class="dashboard-subtitle">Manage your store</p>
            </div>
            
            <div class="dashboard-tabs">
                <button class="dashboard-tab active" id="dashboardOrdersTab">All Orders</button>
                <button class="dashboard-tab" id="dashboardProductsTab">Products</button>
                <button class="dashboard-tab" id="dashboardUsersTab">Users</button>
                <button class="dashboard-tab" id="dashboardAnalyticsTab">Analytics</button>
            </div>
            
            <div class="dashboard-body">
                <!-- Orders Tab -->
                <div class="dashboard-section active" id="ordersTab">
                    <h3>All Customer Orders</h3>
                    <div style="overflow-x: auto;">
                        <table class="orders-table">
                            <thead>
                                <tr>
                                    <th>Order ID</th>
                                    <th>Customer</th>
                                    <th>Date</th>
                                    <th>Total</th>
                                    <th>Status</th>
                                </tr>
                            </thead>
                            <tbody id="allOrdersList">
                                <!-- Orders will be loaded here -->
                            </tbody>
                        </table>
                    </div>
                </div>
                
                <!-- Products Tab -->
                <div class="dashboard-section" id="productsTab">
                    <h3>Manage Products</h3>
                    
                    <div style="margin-bottom: 25px; text-align: center;">
                        <button class="checkout-btn primary" id="addProductBtn" style="padding: 12px 30px;">Add New Product</button>
                    </div>
                    
                    <div style="overflow-x: auto;">
                        <table class="orders-table">
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>Name</th>
                                    <th>Price</th>
                                    <th>Category</th>
                                    <th>Stock</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="dashboardProductsList">
                                <!-- Products will be loaded here -->
                            </tbody>
                        </table>
                    </div>
                </div>
                
                <!-- Users Tab -->
                <div class="dashboard-section" id="usersTab">
                    <h3>User Management</h3>
                    <div style="overflow-x: auto;">
                        <table class="orders-table">
                            <thead>
                                <tr>
                                    <th>Username</th>
                                    <th>Email</th>
                                    <th>Orders</th>
                                    <th>Joined</th>
                                </tr>
                            </thead>
                            <tbody id="allUsersList">
                                <!-- Users will be loaded here -->
                            </tbody>
                        </table>
                    </div>
                </div>
                
                <!-- Analytics Tab -->
                <div class="dashboard-section" id="analyticsTab">
                    <h3>Store Analytics</h3>
                    
                    <div class="dashboard-stats">
                        <div class="stat-card">
                            <div class="stat-value" id="totalOrdersCount">0</div>
                            <div class="stat-label">Total Orders</div>
                        </div>
                        
                        <div class="stat-card">
                            <div class="stat-value" id="totalRevenueAmount">$0</div>
                            <div class="stat-label">Total Revenue</div>
                        </div>
                        
                        <div class="stat-card">
                            <div class="stat-value" id="totalUsersCount">0</div>
                            <div class="stat-label">Total Users</div>
                        </div>
                        
                        <div class="stat-card">
                            <div class="stat-value" id="totalProductsCount">0</div>
                            <div class="stat-label">Total Products</div>
                        </div>
                    </div>
                    
                    <div style="background: #f9f9f9; padding: 25px; border-radius: 12px;">
                        <h4 style="font-size: 18px; font-weight: 700; margin-bottom: 20px; text-align: center;">Recent Activity</h4>
                        <div id="recentActivity">
                            <!-- Activity will be loaded here -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Add Product Modal -->
    <div class="modal add-product-modal" id="addProductModal">
        <div class="modal-backdrop" id="addProductBackdrop"></div>
        <div class="modal-content">
            <button class="modal-close" id="addProductCloseBtn">&times;</button>
            
            <div class="add-product-header">
                <h2 class="add-product-title">Add New Product</h2>
            </div>
            
            <div class="add-product-body">
                <form id="addProductForm">
                    <div class="image-upload" id="imageUploadArea">
                        <div class="image-preview" id="imagePreview">
                            <div class="image-upload-icon">📷</div>
                            <div style="font-size: 14px; color: #666; margin-top: 10px;">Click to upload product image</div>
                        </div>
                        <input type="file" id="productImage" accept="image/*" style="display: none;">
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Product Name</label>
                        <input type="text" class="form-input" id="productName" required>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Description</label>
                        <textarea class="form-input" id="productDescription" rows="3" required></textarea>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">Price ($)</label>
                            <input type="number" class="form-input" id="productPrice" min="0" step="0.01" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Discount (%)</label>
                            <input type="number" class="form-input" id="productDiscount" min="0" max="100" value="0">
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Category</label>
                        <select class="form-input" id="productCategory" required>
                            <option value="hoodies">Hoodies</option>
                            <option value="tees">Tees</option>
                            <option value="headwear">Headwear</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Available Sizes</label>
                        <div style="display: flex; gap: 10px; flex-wrap: wrap;">
                            <label style="display: flex; align-items: center; gap: 5px; cursor: pointer;">
                                <input type="checkbox" name="sizes" value="S" checked> S
                            </label>
                            <label style="display: flex; align-items: center; gap: 5px; cursor: pointer;">
                                <input type="checkbox" name="sizes" value="M" checked> M
                            </label>
                            <label style="display: flex; align-items: center; gap: 5px; cursor: pointer;">
                                <input type="checkbox" name="sizes" value="L" checked> L
                            </label>
                            <label style="display: flex; align-items: center; gap: 5px; cursor: pointer;">
                                <input type="checkbox" name="sizes" value="XL"> XL
                            </label>
                            <label style="display: flex; align-items: center; gap: 5px; cursor: pointer;">
                                <input type="checkbox" name="sizes" value="XXL"> XXL
                            </label>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Stock Quantity</label>
                        <input type="number" class="form-input" id="productStock" min="0" value="10" required>
                    </div>
                    
                    <div class="error-message" id="addProductError"></div>
                    
                    <div class="add-product-actions">
                        <button type="button" class="add-product-btn cancel" id="addProductCancelBtn">Cancel</button>
                        <button type="submit" class="add-product-btn submit">Add Product</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Success Message -->
    <div class="success-message" id="successMessage">
        <div class="success-icon">✓</div>
        <h3 class="success-title">Payment Successful!</h3>
        <p class="success-text">Your order has been placed successfully. You will receive a confirmation email shortly.</p>
        <button class="success-btn" id="continueShoppingSuccessBtn">Continue Shopping</button>
    </div>

    <script>
        // ===== GLOBAL STATE =====
        const state = {
            currentUser: JSON.parse(localStorage.getItem('streetzy_currentUser')) || null,
            cart: JSON.parse(localStorage.getItem('streetzy_cart')) || [],
            products: JSON.parse(localStorage.getItem('streetzy_products')) || [
                {
                    id: 1,
                    name: 'ESSENTIAL OVERSIZED HOODIE',
                    price: 85,
                    category: 'hoodies',
                    discount: 0,
                    stock: 10,
                    sizes: ['S', 'M', 'L', 'XL', 'XXL'],
                    style: ['oversized'],
                    tags: ['new'],
                    description: 'Premium oversized hoodie made from heavyweight French terry cotton. Features ribbed cuffs, hem, and kangaroo pocket.'
                },
                {
                    id: 2,
                    name: 'CLASSIC LOGO TEE',
                    price: 35,
                    category: 'tees',
                    discount: 0,
                    stock: 15,
                    sizes: ['S', 'M', 'L', 'XL'],
                    style: ['minimal'],
                    description: 'Essential crew neck t-shirt with embroidered logo. Made from 100% organic cotton.'
                },
                {
                    id: 3,
                    name: 'SIGNATURE SNAPBACK',
                    price: 30,
                    category: 'headwear',
                    discount: 0,
                    stock: 8,
                    sizes: ['One Size'],
                    style: ['graphic'],
                    tags: ['new'],
                    description: 'Adjustable snapback cap with embroidered logo. Structured front with curved visor.'
                },
                {
                    id: 4,
                    name: 'PREMIUM KNIT BEANIE',
                    price: 25,
                    category: 'headwear',
                    discount: 10,
                    stock: 0,
                    sizes: ['One Size'],
                    style: ['fitted'],
                    description: 'Soft acrylic knit beanie with embroidered logo. Perfect for cold weather.'
                },
                {
                    id: 5,
                    name: 'ZIP-UP TECH HOODIE',
                    price: 95,
                    category: 'hoodies',
                    discount: 0,
                    stock: 6,
                    sizes: ['M', 'L', 'XL', 'XXL'],
                    style: ['fitted'],
                    description: 'Technical zip-up hoodie with moisture-wicking fabric. Features hidden pockets and adjustable hood.'
                },
                {
                    id: 6,
                    name: 'STRIPED ESSENTIAL TEE',
                    price: 40,
                    category: 'tees',
                    discount: 15,
                    stock: 20,
                    sizes: ['S', 'M', 'L', 'XL', 'XXL'],
                    style: ['graphic'],
                    description: 'Striped crew neck t-shirt with contrast detailing. Made from soft jersey cotton.'
                },
                {
                    id: 7,
                    name: 'GRAPHIC PRINT HOODIE',
                    price: 90,
                    category: 'hoodies',
                    discount: 0,
                    stock: 7,
                    sizes: ['S', 'M', 'L'],
                    style: ['oversized', 'graphic'],
                    tags: ['new'],
                    description: 'Oversized hoodie with all-over graphic print. Features dropped shoulders and kangaroo pocket.'
                },
                {
                    id: 8,
                    name: 'CREW NECK SWEATSHIRT',
                    price: 75,
                    category: 'hoodies',
                    discount: 20,
                    stock: 9,
                    sizes: ['M', 'L', 'XL'],
                    style: ['fitted'],
                    tags: ['sale'],
                    description: 'Heavyweight crew neck sweatshirt with ribbed cuffs and hem. Made from brushed French terry.'
                },
                {
                    id: 9,
                    name: 'MINIMAL V-NECK TEE',
                    price: 38,
                    category: 'tees',
                    discount: 0,
                    stock: 18,
                    sizes: ['S', 'M', 'L'],
                    style: ['minimal'],
                    description: 'V-neck t-shirt with subtle logo embroidery. Made from premium combed cotton.'
                },
                {
                    id: 10,
                    name: 'BUCKET HAT',
                    price: 28,
                    category: 'headwear',
                    discount: 0,
                    stock: 14,
                    sizes: ['One Size'],
                    style: ['graphic'],
                    description: 'Adjustable bucket hat with embroidered logo. Made from durable cotton twill.'
                },
                {
                    id: 11,
                    name: 'HEAVYWEIGHT PULLOVER',
                    price: 88,
                    category: 'hoodies',
                    discount: 25,
                    stock: 5,
                    sizes: ['L', 'XL', 'XXL'],
                    style: ['oversized'],
                    tags: ['sale'],
                    description: 'Extra-heavyweight pullover hoodie with double-lined hood and kangaroo pocket.'
                },
                {
                    id: 12,
                    name: 'POCKET TEE',
                    price: 42,
                    category: 'tees',
                    discount: 0,
                    stock: 22,
                    sizes: ['S', 'M', 'L', 'XL'],
                    style: ['minimal'],
                    description: 'Classic pocket t-shirt with chest pocket and embroidered logo. Made from organic cotton.'
                }
            ],
            orders: JSON.parse(localStorage.getItem('streetzy_orders')) || { processing: [], shipped: [] },
            users: JSON.parse(localStorage.getItem('streetzy_users')) || [
                {
                    id: 1,
                    username: 'streetzy',
                    email: 'ntilbury842@gmail.com',
                    password: 'Neverl8grumpydoctor',
                    isOwner: true,
                    joined: new Date().toISOString()
                }
            ],
            activeFilters: {
                category: 'all',
                style: [],
                price: []
            },
            currentCurrency: 'USD',
            currentPage: 1,
            productsPerPage: 12,
            currencyRates: {
                'USD': 1.0,
                'EUR': 0.85,
                'GBP': 0.73,
                'AUD': 1.35
            },
            currencySymbols: {
                'USD': '$',
                'EUR': '€',
                'GBP': '£',
                'AUD': '$'
            },
            currentProduct: null,
            selectedSize: 'L',
            currentQuantity: 1
        };

        // ===== UTILITY FUNCTIONS =====
        function showToast(message, type = 'success') {
            const toast = document.createElement('div');
            toast.className = `toast toast-${type}`;
            toast.innerHTML = `
                <div class="toast-icon">${type === 'success' ? '✓' : type === 'error' ? '✗' : 'ℹ'}</div>
                <div class="toast-message">${message}</div>
                <button class="toast-close">&times;</button>
            `;
            
            document.body.appendChild(toast);
            
            // Trigger animation
            setTimeout(() => toast.classList.add('show'), 10);
            
            // Close button
            toast.querySelector('.toast-close').addEventListener('click', () => {
                toast.classList.remove('show');
                setTimeout(() => toast.remove(), 300);
            });
            
            // Auto remove
            setTimeout(() => {
                toast.classList.remove('show');
                setTimeout(() => toast.remove(), 300);
            }, 4000);
        }

        function formatPrice(price) {
            const convertedPrice = price * state.currencyRates[state.currentCurrency];
            const symbol = state.currencySymbols[state.currentCurrency];
            return `${symbol}${convertedPrice.toFixed(2)}`;
        }

        function convertPrice(price) {
            return price * state.currencyRates[state.currentCurrency];
        }

        function saveToLocalStorage() {
            localStorage.setItem('streetzy_currentUser', JSON.stringify(state.currentUser));
            localStorage.setItem('streetzy_cart', JSON.stringify(state.cart));
            localStorage.setItem('streetzy_products', JSON.stringify(state.products));
            localStorage.setItem('streetzy_orders', JSON.stringify(state.orders));
            localStorage.setItem('streetzy_users', JSON.stringify(state.users));
            localStorage.setItem('streetzy_currency', state.currentCurrency);
        }

        // ===== INITIALIZATION =====
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize currency
            const savedCurrency = localStorage.getItem('streetzy_currency') || 'USD';
            state.currentCurrency = savedCurrency;
            document.getElementById('currencyToggle').textContent = `${savedCurrency} ${state.currencySymbols[savedCurrency]}`;
            
            // Initialize UI
            initUI();
            
            // Hide loading screen
            setTimeout(() => {
                document.getElementById('loadingScreen').classList.add('hidden');
                setTimeout(() => {
                    document.getElementById('loadingScreen').style.display = 'none';
                    renderProducts();
                }, 300);
            }, 1500);
            
            // Setup event listeners
            setupEventListeners();
            
            // Update cart display
            updateCartDisplay();
        });

        function initUI() {
            // Set active currency option
            document.querySelectorAll('.currency-option').forEach(option => {
                if (option.dataset.currency === state.currentCurrency) {
                    option.classList.add('active');
                }
            });
            
            // Update filter counts
            updateFilterCounts();
        }

        // ===== PRODUCT RENDERING =====
        function renderProducts() {
            const grid = document.getElementById('productsGrid');
            const countEl = document.getElementById('productCount');
            const titleEl = document.getElementById('collectionTitle');
            
            // Filter products
            let filteredProducts = filterProducts();
            
            // Update title and count
            const categoryNames = {
                'all': 'All Products',
                'hoodies': 'Hoodies',
                'tees': 'Tees',
                'headwear': 'Headwear'
            };
            
            titleEl.textContent = categoryNames[state.activeFilters.category] || state.activeFilters.category;
            countEl.textContent = `${filteredProducts.length} products`;
            
            // Clear grid
            grid.innerHTML = '';
            
            // Calculate pagination
            const totalPages = Math.ceil(filteredProducts.length / state.productsPerPage);
            const startIndex = (state.currentPage - 1) * state.productsPerPage;
            const endIndex = Math.min(startIndex + state.productsPerPage, filteredProducts.length);
            const pageProducts = filteredProducts.slice(startIndex, endIndex);
            
            // Render product cards
            pageProducts.forEach((product, index) => {
                const finalPrice = product.price * (1 - (product.discount / 100));
                const isSoldOut = product.stock < 1;
                const isNew = product.tags && product.tags.includes('new');
                const isSale = product.discount >= 20;
                const reviewCount = Math.floor(Math.random() * 2000) + 100;
                
                const card = document.createElement('div');
                card.className = 'product-card';
                card.dataset.id = product.id;
                card.style.animationDelay = `${index * 0.05}s`;
                
                // Determine badge
                let badge = '';
                if (isSoldOut) {
                    badge = '<span class="product-badge badge-soldout">SOLD OUT</span>';
                } else if (isNew) {
                    badge = '<span class="product-badge badge-new">NEW</span>';
                } else if (isSale) {
                    badge = '<span class="product-badge badge-sale">SALE</span>';
                }
                
                card.innerHTML = `
                    <div class="product-image-wrapper">
                        ${badge}
                        <div class="product-image" style="display: flex; align-items: center; justify-content: center; font-size: 48px; font-weight: 900; color: #ddd; background: linear-gradient(135deg, #f5f5f5, #e8e8e8);">
                            ${product.name.charAt(0)}
                        </div>
                    </div>
                    <div class="product-info">
                        <h3 class="product-title">${product.name}</h3>
                        <div class="product-reviews">
                            <span class="review-stars">★★★★★</span>
                            <span class="review-count">(${reviewCount})</span>
                        </div>
                        <div class="product-price">
                            ${product.discount > 0 ? `<span class="price-original">${formatPrice(product.price)}</span>` : ''}
                            ${formatPrice(finalPrice)}
                        </div>
                    </div>
                `;
                
                grid.appendChild(card);
                
                // Add click event for quick view
                card.addEventListener('click', () => openQuickView(product.id));
            });
            
            // Update pagination
            updatePagination(totalPages);
        }

        function filterProducts() {
            return state.products.filter(product => {
                // Category filter
                if (state.activeFilters.category !== 'all' && product.category !== state.activeFilters.category) {
                    return false;
                }
                
                // Style filter
                if (state.activeFilters.style.length > 0) {
                    const hasStyle = state.activeFilters.style.some(style => 
                        product.style && product.style.includes(style)
                    );
                    if (!hasStyle) return false;
                }
                
                // Price filter
                if (state.activeFilters.price.length > 0) {
                    const productPrice = product.price * (1 - (product.discount / 100));
                    let priceMatch = false;
                    
                    state.activeFilters.price.forEach(priceRange => {
                        if (priceRange === 'under50' && productPrice < 50) priceMatch = true;
                        if (priceRange === '50-100' && productPrice >= 50 && productPrice <= 100) priceMatch = true;
                        if (priceRange === 'over100' && productPrice > 100) priceMatch = true;
                    });
                    
                    if (!priceMatch) return false;
                }
                
                return true;
            });
        }

        function updateFilterCounts() {
            const categories = ['all', 'hoodies', 'tees', 'headwear'];
            categories.forEach(category => {
                const count = state.products.filter(p => category === 'all' || p.category === category).length;
                const el = document.getElementById(`count${category.charAt(0).toUpperCase() + category.slice(1)}`);
                if (el) el.textContent = count;
            });
        }

        // ===== PAGINATION =====
        function updatePagination(totalPages) {
            const pagination = document.getElementById('pagination');
            
            if (totalPages <= 1) {
                pagination.style.display = 'none';
                return;
            }
            
            pagination.style.display = 'flex';
            
            // Clear page buttons (keep prev/next)
            const pageBtns = pagination.querySelectorAll('.page-btn:not(.prev):not(.next)');
            pageBtns.forEach(btn => btn.remove());
            
            // Add page buttons
            const prevBtn = pagination.querySelector('.prev');
            const maxButtons = 5;
            let startPage = Math.max(1, state.currentPage - Math.floor(maxButtons / 2));
            let endPage = Math.min(totalPages, startPage + maxButtons - 1);
            
            if (endPage - startPage + 1 < maxButtons) {
                startPage = Math.max(1, endPage - maxButtons + 1);
            }
            
            for (let i = startPage; i <= endPage; i++) {
                const pageBtn = document.createElement('button');
                pageBtn.className = 'page-btn';
                if (i === state.currentPage) pageBtn.classList.add('active');
                pageBtn.textContent = i;
                pageBtn.addEventListener('click', () => {
                    state.currentPage = i;
                    renderProducts();
                    window.scrollTo({ top: 0, behavior: 'smooth' });
                });
                prevBtn.after(pageBtn);
            }
            
            // Update prev/next buttons
            const prevButton = pagination.querySelector('.prev');
            const nextButton = pagination.querySelector('.next');
            
            prevButton.disabled = state.currentPage === 1;
            nextButton.disabled = state.currentPage === totalPages;
            
            prevButton.classList.toggle('disabled', state.currentPage === 1);
            nextButton.classList.toggle('disabled', state.currentPage === totalPages);
            
            prevButton.onclick = () => {
                if (state.currentPage > 1) {
                    state.currentPage--;
                    renderProducts();
                    window.scrollTo({ top: 0, behavior: 'smooth' });
                }
            };
            
            nextButton.onclick = () => {
                if (state.currentPage < totalPages) {
                    state.currentPage++;
                    renderProducts();
                    window.scrollTo({ top: 0, behavior: 'smooth' });
                }
            };
        }

        // ===== QUICK VIEW MODAL =====
        function openQuickView(productId) {
            const product = state.products.find(p => p.id === productId);
            if (!product) return;
            
            state.currentProduct = product;
            state.selectedSize = product.sizes[0] || 'L';
            state.currentQuantity = 1;
            
            const finalPrice = product.price * (1 - (product.discount / 100));
            const isSoldOut = product.stock < 1;
            
            const modalContent = document.getElementById('quickViewContent');
            modalContent.innerHTML = `
                <div class="quick-view-images">
                    <div class="main-image">
                        <div style="display: flex; align-items: center; justify-content: center; font-size: 80px; font-weight: 900; color: #ccc; width: 100%; height: 100%;">
                            ${product.name.charAt(0)}
                        </div>
                    </div>
                </div>
                <div class="quick-view-details">
                    <h2 class="quick-view-title">${product.name}</h2>
                    <div class="quick-view-price">
                        ${product.discount > 0 ? `
                            <span class="quick-view-original-price">${formatPrice(product.price)}</span>
                            <span>${formatPrice(finalPrice)}</span>
                            <span class="quick-view-discount">${product.discount}% OFF</span>
                        ` : `
                            <span>${formatPrice(finalPrice)}</span>
                        `}
                    </div>
                    
                    <div class="quick-view-description">
                        ${product.description || 'Premium streetwear item crafted with attention to detail and quality materials.'}
                    </div>
                    
                    <div class="size-selector">
                        <label class="size-label">Select Size</label>
                        <div class="size-options">
                            ${product.sizes.map(size => `
                                <div class="size-option ${state.selectedSize === size ? 'selected' : ''} ${isSoldOut ? 'unavailable' : ''}" 
                                     data-size="${size}"
                                     onclick="${!isSoldOut ? `selectSize('${size}')` : ''}">
                                    ${size}
                                </div>
                            `).join('')}
                        </div>
                    </div>
                    
                    <div class="quantity-selector">
                        <label class="quantity-label">Quantity</label>
                        <div class="quantity-controls">
                            <button class="quantity-btn" onclick="updateQuantity(-1)" ${state.currentQuantity <= 1 || isSoldOut ? 'disabled' : ''}>−</button>
                            <span class="quantity-display">${state.currentQuantity}</span>
                            <button class="quantity-btn" onclick="updateQuantity(1)" ${(state.currentQuantity >= product.stock || isSoldOut) ? 'disabled' : ''}>+</button>
                        </div>
                    </div>
                    
                    <div class="quick-view-actions">
                        <button class="quick-view-btn add-to-cart" onclick="addToCartFromQuickView()" ${isSoldOut ? 'disabled style="opacity: 0.5; cursor: not-allowed;"' : ''}>
                            ${isSoldOut ? 'SOLD OUT' : 'ADD TO CART'}
                        </button>
                        <button class="quick-view-btn buy-now" onclick="buyNowFromQuickView()" ${isSoldOut ? 'disabled style="opacity: 0.5; cursor: not-allowed;"' : ''}>
                            BUY NOW
                        </button>
                    </div>
                </div>
            `;
            
            document.getElementById('quickViewModal').classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        function selectSize(size) {
            state.selectedSize = size;
            document.querySelectorAll('.size-option').forEach(option => {
                option.classList.toggle('selected', option.dataset.size === size);
            });
        }

        function updateQuantity(change) {
            if (!state.currentProduct) return;
            
            const newQuantity = state.currentQuantity + change;
            if (newQuantity < 1 || newQuantity > state.currentProduct.stock) return;
            
            state.currentQuantity = newQuantity;
            document.querySelector('.quantity-display').textContent = newQuantity;
            
            // Update button states
            document.querySelector('.quantity-btn:first-child').disabled = newQuantity <= 1;
            document.querySelector('.quantity-btn:last-child').disabled = newQuantity >= state.currentProduct.stock;
        }

        function addToCartFromQuickView() {
            if (!state.currentProduct || state.currentProduct.stock < 1) return;
            
            const existingItem = state.cart.find(item => 
                item.id === state.currentProduct.id && item.size === state.selectedSize
            );
            
            const finalPrice = state.currentProduct.price * (1 - (state.currentProduct.discount / 100));
            
            if (existingItem) {
                existingItem.quantity += state.currentQuantity;
            } else {
                state.cart.push({
                    id: state.currentProduct.id,
                    name: state.currentProduct.name,
                    price: finalPrice,
                    originalPrice: state.currentProduct.price,
                    discount: state.currentProduct.discount,
                    size: state.selectedSize,
                    quantity: state.currentQuantity,
                    category: state.currentProduct.category
                });
            }
            
            saveToLocalStorage();
            updateCartDisplay();
            showToast('Added to cart!');
            
            // Close quick view
            document.getElementById('quickViewModal').classList.remove('active');
            document.body.style.overflow = '';
        }

        function buyNowFromQuickView() {
            addToCartFromQuickView();
            setTimeout(openCart, 300);
        }

        // ===== CART FUNCTIONS =====
        function updateCartDisplay() {
            const cartCount = state.cart.reduce((sum, item) => sum + item.quantity, 0);
            const cartCountEl = document.getElementById('cartCount');
            
            cartCountEl.textContent = cartCount;
            cartCountEl.classList.toggle('active', cartCount > 0);
            
            // Update cart items
            const cartItems = document.getElementById('cartItems');
            const cartFooter = document.getElementById('cartFooter');
            
            if (state.cart.length === 0) {
                cartItems.innerHTML = '<div class="cart-empty">Your cart is empty</div>';
                cartFooter.style.display = 'none';
            } else {
                cartItems.innerHTML = state.cart.map((item, index) => {
                    const itemPrice = item.price * item.quantity;
                    return `
                        <div class="cart-item" style="animation-delay: ${index * 0.05}s">
                            <div class="cart-item-header">
                                <div class="cart-item-image">${item.name.charAt(0)}</div>
                                <div class="cart-item-info">
                                    <div class="cart-item-name">${item.name}</div>
                                    <div class="cart-item-details">Size: ${item.size}</div>
                                    <div class="cart-item-price">
                                        ${item.discount > 0 ? `<span style="color: #ff3b30; font-size: 14px; text-decoration: line-through; margin-right: 10px;">${formatPrice(item.originalPrice * item.quantity)}</span>` : ''}
                                        ${formatPrice(itemPrice)}
                                        ${item.discount > 0 ? `<span style="color: #4cd964; font-size: 12px; margin-left: 10px;">${item.discount}% OFF</span>` : ''}
                                    </div>
                                </div>
                            </div>
                            <div class="cart-item-actions">
                                <div class="cart-item-qty">
                                    <button class="qty-btn" onclick="updateCartItemQuantity(${index}, -1)" ${item.quantity <= 1 ? 'disabled' : ''}>−</button>
                                    <span style="font-weight: 600; min-width: 30px; text-align: center; font-size: 16px;">${item.quantity}</span>
                                    <button class="qty-btn" onclick="updateCartItemQuantity(${index}, 1)">+</button>
                                </div>
                                <button class="remove-btn" onclick="removeCartItem(${index})">Remove</button>
                            </div>
                        </div>
                    `;
                }).join('');
                
                cartFooter.style.display = 'block';
                
                // Calculate totals
                const subtotal = state.cart.reduce((sum, item) => sum + (convertPrice(item.price) * item.quantity), 0);
                const shipping = subtotal >= 70 ? 0 : 5.99;
                const total = subtotal + shipping;
                
                document.getElementById('cartSubtotal').textContent = formatPrice(subtotal);
                document.getElementById('cartShipping').textContent = shipping === 0 ? 'FREE' : formatPrice(shipping);
                document.getElementById('cartTotal').textContent = formatPrice(total);
            }
        }

        function updateCartItemQuantity(index, change) {
            const newQuantity = state.cart[index].quantity + change;
            if (newQuantity < 1) return;
            
            state.cart[index].quantity = newQuantity;
            saveToLocalStorage();
            updateCartDisplay();
        }

        function removeCartItem(index) {
            state.cart.splice(index, 1);
            saveToLocalStorage();
            updateCartDisplay();
            showToast('Item removed from cart');
        }

        function openCart() {
            updateCartDisplay();
            document.getElementById('cartSidebar').classList.add('active');
            document.getElementById('overlay').classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        // ===== CHECKOUT FUNCTIONS =====
        function startCheckout() {
            if (state.cart.length === 0) return;
            
            // Close cart
            document.getElementById('cartSidebar').classList.remove('active');
            document.getElementById('overlay').classList.remove('active');
            
            setTimeout(() => {
                // Open checkout modal
                document.getElementById('checkoutModal').classList.add('active');
                document.body.style.overflow = 'hidden';
                
                // Pre-fill with user info if logged in
                if (state.currentUser) {
                    document.getElementById('checkoutEmail').value = state.currentUser.email;
                    document.getElementById('checkoutName').value = state.currentUser.username;
                }
                
                // Reset to step 1
                goToCheckoutStep(1);
                
                // Update checkout summary
                updateCheckoutSummary();
            }, 300);
        }

        function goToCheckoutStep(step) {
            // Hide all steps
            document.querySelectorAll('.checkout-section').forEach(section => {
                section.classList.remove('active');
            });
            
            // Remove active from all steps
            document.querySelectorAll('.checkout-steps .step').forEach(stepEl => {
                stepEl.classList.remove('active');
            });
            
            // Activate current step
            document.getElementById(`step${step}`).classList.add('active');
            document.getElementById(`${step === 1 ? 'contactSection' : step === 2 ? 'shippingSection' : 'paymentSection'}`).classList.add('active');
            
            // Clear error messages
            document.querySelectorAll('.error-message').forEach(el => {
                el.classList.remove('active');
            });
        }

        function updateCheckoutSummary() {
            const subtotal = state.cart.reduce((sum, item) => sum + (convertPrice(item.price) * item.quantity), 0);
            const shipping = document.querySelector('.shipping-option.selected') ? 
                parseFloat(document.querySelector('.shipping-option.selected').dataset.price) : 5.99;
            const total = subtotal + shipping;
            
            const summaryHTML = `
                <div style="margin-bottom: 15px; font-weight: 600; font-size: 16px; color: var(--color-accent);">Order Summary</div>
                ${state.cart.map(item => `
                    <div style="display: flex; justify-content: space-between; margin-bottom: 10px; font-size: 14px;">
                        <span>${item.name} (${item.size}) × ${item.quantity}</span>
                        <span>${formatPrice(item.price * item.quantity)}</span>
                    </div>
                `).join('')}
                <div style="display: flex; justify-content: space-between; margin-bottom: 10px; font-size: 14px;">
                    <span>Subtotal</span>
                    <span>${formatPrice(subtotal)}</span>
                </div>
                <div style="display: flex; justify-content: space-between; margin-bottom: 15px; font-size: 14px;">
                    <span>Shipping</span>
                    <span>${shipping === 0 ? 'FREE' : formatPrice(shipping)}</span>
                </div>
                <div style="display: flex; justify-content: space-between; font-weight: 700; font-size: 18px; padding-top: 15px; border-top: 2px solid var(--color-border);">
                    <span>Total</span>
                    <span>${formatPrice(total)}</span>
                </div>
            `;
            
            document.getElementById('checkoutSummary').innerHTML = summaryHTML;
        }

        function processPayment() {
            // Show loading
            document.getElementById('submitPaymentBtn').textContent = 'Processing...';
            document.getElementById('submitPaymentBtn').disabled = true;
            
            // Validate form
            const cardNumber = document.getElementById('cardNumber').value.replace(/\s/g, '');
            const cardExpiry = document.getElementById('cardExpiry').value;
            const cardCvc = document.getElementById('cardCvc').value;
            const cardName = document.getElementById('cardName').value;
            
            if (!cardNumber || !cardExpiry || !cardCvc || !cardName) {
                document.getElementById('paymentError').textContent = 'Please fill in all payment details';
                document.getElementById('paymentError').classList.add('active');
                document.getElementById('submitPaymentBtn').textContent = 'Pay Now';
                document.getElementById('submitPaymentBtn').disabled = false;
                return;
            }
            
            // Simulate payment processing
            setTimeout(() => {
                // Create order
                const subtotal = state.cart.reduce((sum, item) => sum + (convertPrice(item.price) * item.quantity), 0);
                const shipping = document.querySelector('.shipping-option.selected') ? 
                    parseFloat(document.querySelector('.shipping-option.selected').dataset.price) : 5.99;
                const total = subtotal + shipping;
                
                const shippingOption = document.querySelector('.shipping-option.selected');
                const shippingMethod = shippingOption ? shippingOption.dataset.shipping : 'standard';
                
                const order = {
                    id: 'STZ-' + Date.now().toString().slice(-8),
                    userId: state.currentUser?.id || null,
                    date: new Date().toISOString(),
                    items: [...state.cart],
                    subtotal: subtotal,
                    shipping: shipping,
                    total: total,
                    status: 'processing',
                    shippingTo: {
                        name: document.getElementById('checkoutName').value,
                        email: document.getElementById('checkoutEmail').value,
                        phone: document.getElementById('checkoutPhone').value,
                        address: document.getElementById('checkoutAddress').value,
                        city: document.getElementById('checkoutCity').value,
                        zip: document.getElementById('checkoutZip').value,
                        country: document.getElementById('checkoutCountry').value
                    },
                    shippingMethod: shippingMethod.charAt(0).toUpperCase() + shippingMethod.slice(1) + ' Shipping',
                    paymentMethod: 'Credit Card',
                    currency: state.currentCurrency
                };
                
                // Add to processing orders
                state.orders.processing.push(order);
                
                // Clear cart
                state.cart = [];
                saveToLocalStorage();
                updateCartDisplay();
                
                // Close checkout modal
                document.getElementById('checkoutModal').classList.remove('active');
                document.body.style.overflow = '';
                
                // Reset checkout form
                document.getElementById('submitPaymentBtn').textContent = 'Pay Now';
                document.getElementById('submitPaymentBtn').disabled = false;
                
                // Show success message
                setTimeout(() => {
                    document.getElementById('successMessage').classList.add('active');
                }, 300);
                
                showToast('Order placed successfully!');
            }, 2000);
        }

        // ===== AUTHENTICATION FUNCTIONS =====
        function showLogin() {
            document.getElementById('authModal').classList.add('active');
            document.getElementById('loginForm').classList.add('active');
            document.getElementById('registerForm').classList.remove('active');
            document.getElementById('loginTabBtn').classList.add('active');
            document.getElementById('registerTabBtn').classList.remove('active');
            document.body.style.overflow = 'hidden';
        }

        function showRegister() {
            document.getElementById('authModal').classList.add('active');
            document.getElementById('registerForm').classList.add('active');
            document.getElementById('loginForm').classList.remove('active');
            document.getElementById('registerTabBtn').classList.add('active');
            document.getElementById('loginTabBtn').classList.remove('active');
            document.body.style.overflow = 'hidden';
        }

        function login(event) {
            event.preventDefault();
            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPassword').value;
            const error = document.getElementById('loginError');
            
            // Find user
            const user = state.users.find(u => 
                (u.email === email || u.username === email) && u.password === password
            );
            
            if (user) {
                state.currentUser = user;
                saveToLocalStorage();
                
                // Close auth modal
                document.getElementById('authModal').classList.remove('active');
                document.body.style.overflow = '';
                
                showToast('Login successful!');
                
                // If owner, show dashboard
                if (user.isOwner) {
                    setTimeout(() => showDashboard(), 500);
                }
            } else {
                error.textContent = 'Invalid email/username or password';
                error.classList.add('active');
            }
        }

        function register(event) {
            event.preventDefault();
            const username = document.getElementById('registerUsername').value;
            const email = document.getElementById('registerEmail').value;
            const password = document.getElementById('registerPassword').value;
            const confirm = document.getElementById('registerConfirm').value;
            const error = document.getElementById('registerError');
            
            // Validation
            if (password !== confirm) {
                error.textContent = 'Passwords do not match';
                error.classList.add('active');
                return;
            }
            
            if (state.users.find(u => u.email === email)) {
                error.textContent = 'Email already registered';
                error.classList.add('active');
                return;
            }
            
            if (state.users.find(u => u.username === username)) {
                error.textContent = 'Username already taken';
                error.classList.add('active');
                return;
            }
            
            // Create new user
            const newUser = {
                id: state.users.length + 1,
                username: username,
                email: email,
                password: password,
                isOwner: false,
                joined: new Date().toISOString()
            };
            
            state.users.push(newUser);
            state.currentUser = newUser;
            saveToLocalStorage();
            
            // Close auth modal
            document.getElementById('authModal').classList.remove('active');
            document.body.style.overflow = '';
            
            showToast('Account created successfully!');
        }

        function logout() {
            state.currentUser = null;
            saveToLocalStorage();
            showToast('Logged out successfully!');
        }

        // ===== DASHBOARD FUNCTIONS =====
        function showDashboard() {
            if (!state.currentUser || !state.currentUser.isOwner) {
                showToast('Access denied. Owner only.', 'error');
                return;
            }
            
            updateDashboard();
            document.getElementById('dashboardModal').classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        function updateDashboard() {
            // Update stats
            const totalOrders = state.orders.processing.length + state.orders.shipped.length;
            let totalRevenue = 0;
            
            state.orders.processing.forEach(order => totalRevenue += order.total);
            state.orders.shipped.forEach(order => totalRevenue += order.total);
            
            document.getElementById('totalOrdersCount').textContent = totalOrders;
            document.getElementById('totalRevenueAmount').textContent = `$${totalRevenue.toFixed(2)}`;
            document.getElementById('totalUsersCount').textContent = state.users.length;
            document.getElementById('totalProductsCount').textContent = state.products.length;
            
            // Update orders table
            const allOrders = [...state.orders.processing, ...state.orders.shipped];
            const ordersList = document.getElementById('allOrdersList');
            
            ordersList.innerHTML = allOrders.map(order => `
                <tr>
                    <td>${order.id}</td>
                    <td>${order.shippingTo?.name || 'Guest'}</td>
                    <td>${new Date(order.date).toLocaleDateString()}</td>
                    <td>${formatPrice(order.total)}</td>
                    <td><span class="status-badge ${order.status === 'processing' ? 'status-processing' : 'status-shipped'}">${order.status}</span></td>
                </tr>
            `).join('');
            
            // Update products table
            const productsList = document.getElementById('dashboardProductsList');
            
            productsList.innerHTML = state.products.map(product => `
                <tr>
                    <td>${product.id}</td>
                    <td>${product.name}</td>
                    <td>${formatPrice(product.price)}</td>
                    <td>${product.category}</td>
                    <td>${product.stock}</td>
                    <td>
                        <button onclick="deleteProduct(${product.id})" style="background: #ff3b30; color: white; border: none; padding: 6px 12px; border-radius: 4px; font-size: 12px; font-weight: 600; cursor: pointer;">Delete</button>
                    </td>
                </tr>
            `).join('');
            
            // Update users table
            const usersList = document.getElementById('allUsersList');
            
            usersList.innerHTML = state.users.map(user => `
                <tr>
                    <td>${user.username} ${user.isOwner ? '(Owner)' : ''}</td>
                    <td>${user.email}</td>
                    <td>${getUserOrderCount(user.id)}</td>
                    <td>${new Date(user.joined).toLocaleDateString()}</td>
                </tr>
            `).join('');
            
            // Update recent activity
            const recentActivity = document.getElementById('recentActivity');
            const allOrdersSorted = allOrders.sort((a, b) => new Date(b.date) - new Date(a.date)).slice(0, 5);
            
            recentActivity.innerHTML = allOrdersSorted.map(order => `
                <div style="padding: 10px 0; border-bottom: 1px solid #eee; font-size: 14px;">
                    <div style="font-weight: 600; color: var(--color-accent);">Order #${order.id}</div>
                    <div style="color: #666; font-size: 12px;">
                        ${new Date(order.date).toLocaleString()} • ${order.status} • ${formatPrice(order.total)}
                    </div>
                </div>
            `).join('');
        }

        function getUserOrderCount(userId) {
            const allOrders = [...state.orders.processing, ...state.orders.shipped];
            return allOrders.filter(order => order.userId === userId).length;
        }

        function deleteProduct(productId) {
            if (!confirm('Are you sure you want to delete this product?')) return;
            
            state.products = state.products.filter(p => p.id !== productId);
            saveToLocalStorage();
            renderProducts();
            updateDashboard();
            showToast('Product deleted successfully!');
        }

        // ===== ADD PRODUCT FUNCTIONS =====
        function showAddProductModal() {
            document.getElementById('addProductModal').classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        function addProduct(event) {
            event.preventDefault();
            
            const name = document.getElementById('productName').value;
            const description = document.getElementById('productDescription').value;
            const price = parseFloat(document.getElementById('productPrice').value);
            const discount = parseInt(document.getElementById('productDiscount').value) || 0;
            const category = document.getElementById('productCategory').value;
            const stock = parseInt(document.getElementById('productStock').value) || 0;
            
            // Get selected sizes
            const sizeCheckboxes = document.querySelectorAll('input[name="sizes"]:checked');
            const sizes = Array.from(sizeCheckboxes).map(cb => cb.value);
            
            if (sizes.length === 0) {
                sizes.push('L');
            }
            
            const newProduct = {
                id: state.products.length > 0 ? Math.max(...state.products.map(p => p.id)) + 1 : 1,
                name: name,
                description: description,
                price: price,
                discount: discount,
                category: category,
                stock: stock,
                sizes: sizes,
                style: ['minimal'] // Default style
            };
            
            state.products.push(newProduct);
            saveToLocalStorage();
            
            // Reset form
            document.getElementById('addProductForm').reset();
            
            // Close modal
            document.getElementById('addProductModal').classList.remove('active');
            document.body.style.overflow = '';
            
            // Update UI
            renderProducts();
            updateDashboard();
            updateFilterCounts();
            
            showToast('Product added successfully!');
        }

        // ===== EVENT LISTENERS SETUP =====
        function setupEventListeners() {
            // Mobile Filter Toggle
            document.getElementById('mobileFilterToggle').addEventListener('click', () => {
                document.getElementById('filterSidebar').classList.add('active');
                document.getElementById('overlay').classList.add('active');
                document.body.style.overflow = 'hidden';
            });
            
            document.getElementById('closeFilter').addEventListener('click', closeFilter);
            document.getElementById('overlay').addEventListener('click', closeFilter);
            
            // Mobile Menu Toggle
            document.getElementById('mobileMenuToggle').addEventListener('click', () => {
                document.getElementById('mobileMenu').classList.add('active');
                document.getElementById('overlay').classList.add('active');
                document.body.style.overflow = 'hidden';
            });
            
            document.getElementById('closeMobileMenu').addEventListener('click', closeMobileMenu);
            
            // Search Toggle
            document.getElementById('searchToggle').addEventListener('click', () => {
                document.getElementById('searchModal').classList.add('active');
                document.getElementById('searchInput').focus();
                document.body.style.overflow = 'hidden';
            });
            
            document.getElementById('closeSearch').addEventListener('click', () => {
                document.getElementById('searchModal').classList.remove('active');
                document.body.style.overflow = '';
            });
            
            document.getElementById('searchBackdrop').addEventListener('click', () => {
                document.getElementById('searchModal').classList.remove('active');
                document.body.style.overflow = '';
            });
            
            // Search functionality
            document.getElementById('searchInput').addEventListener('input', function(e) {
                const searchTerm = e.target.value.toLowerCase();
                const resultsContainer = document.getElementById('searchResults');
                
                if (searchTerm.length < 2) {
                    resultsContainer.innerHTML = '<div class="text-center" style="padding: 60px 20px; color: #666;">Start typing to search products...</div>';
                    return;
                }
                
                const filtered = state.products.filter(product => 
                    product.name.toLowerCase().includes(searchTerm) ||
                    product.category.toLowerCase().includes(searchTerm) ||
                    (product.description && product.description.toLowerCase().includes(searchTerm))
                );
                
                if (filtered.length === 0) {
                    resultsContainer.innerHTML = `
                        <div style="text-align: center; padding: 60px 20px;">
                            <p style="color: #666; margin-bottom: 20px; font-size: 16px;">No products found for "${searchTerm}"</p>
                            <p style="font-size: 14px; color: #999;">Try searching for hoodies, tees, or headwear</p>
                        </div>
                    `;
                } else {
                    resultsContainer.innerHTML = `
                        <h3 style="margin-bottom: 20px; font-size: 18px; font-weight: 600; color: var(--color-accent);">${filtered.length} results for "${searchTerm}"</h3>
                        <div>
                            ${filtered.map(product => {
                                const finalPrice = product.price * (1 - (product.discount / 100));
                                return `
                                    <div class="search-result-item" onclick="openQuickView(${product.id}); document.getElementById('searchModal').classList.remove('active');">
                                        <div class="search-result-image">
                                            ${product.name.charAt(0)}
                                        </div>
                                        <div class="search-result-details">
                                            <div class="search-result-title">${product.name}</div>
                                            <div class="search-result-price">${formatPrice(finalPrice)}</div>
                                            <div style="font-size: 12px; color: #666; margin-top: 5px;">${product.category} • ${product.stock > 0 ? 'In Stock' : 'Sold Out'}</div>
                                        </div>
                                    </div>
                                `;
                            }).join('')}
                        </div>
                    `;
                }
            });
            
            // Currency Toggle
            document.getElementById('currencyToggle').addEventListener('click', (e) => {
                e.stopPropagation();
                document.getElementById('currencyDropdown').classList.toggle('active');
            });
            
            document.querySelectorAll('.currency-option').forEach(option => {
                option.addEventListener('click', function() {
                    const currency = this.dataset.currency;
                    state.currentCurrency = currency;
                    document.getElementById('currencyToggle').textContent = `${currency} ${state.currencySymbols[currency]}`;
                    document.getElementById('currencyDropdown').classList.remove('active');
                    
                    // Update all prices
                    renderProducts();
                    updateCartDisplay();
                    
                    showToast(`Currency changed to ${currency}`);
                    
                    // Update active state
                    document.querySelectorAll('.currency-option').forEach(opt => {
                        opt.classList.remove('active');
                    });
                    this.classList.add('active');
                });
            });
            
            // Close dropdowns when clicking outside
            document.addEventListener('click', (e) => {
                if (!e.target.closest('.currency-selector')) {
                    document.getElementById('currencyDropdown').classList.remove('active');
                }
            });
            
            // Navigation Links
            document.querySelectorAll('.nav-link[data-filter], .mobile-nav-link[data-filter]').forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    const filter = this.dataset.filter;
                    
                    // Update active filter
                    document.querySelectorAll('#categoryFilters .filter-checkbox').forEach(cb => {
                        cb.classList.remove('checked');
                    });
                    const targetOption = document.querySelector(`#categoryFilters .filter-option[data-filter="${filter}"] .filter-checkbox`);
                    if (targetOption) targetOption.classList.add('checked');
                    
                    state.activeFilters.category = filter;
                    state.currentPage = 1;
                    renderProducts();
                    
                    // Close mobile menu if open
                    closeMobileMenu();
                });
            });
            
            // Mobile Orders and Account
            document.getElementById('mobileOrders').addEventListener('click', (e) => {
                e.preventDefault();
                closeMobileMenu();
                showToast('Orders feature coming soon!', 'info');
            });
            
            document.getElementById('mobileAccount').addEventListener('click', (e) => {
                e.preventDefault();
                closeMobileMenu();
                if (state.currentUser) {
                    showToast('Account settings coming soon!', 'info');
                } else {
                    showLogin();
                }
            });
            
            // User Toggle
            document.getElementById('userToggle').addEventListener('click', () => {
                if (state.currentUser) {
                    if (state.currentUser.isOwner) {
                        showDashboard();
                    } else {
                        showToast('Account settings coming soon!', 'info');
                    }
                } else {
                    showLogin();
                }
            });
            
            // Cart Toggle
            document.getElementById('cartToggle').addEventListener('click', openCart);
            
            // Cart Close
            document.getElementById('cartCloseBtn').addEventListener('click', () => {
                document.getElementById('cartSidebar').classList.remove('active');
                document.getElementById('overlay').classList.remove('active');
                document.body.style.overflow = '';
            });
            
            // Cart Overlay
            document.getElementById('overlay').addEventListener('click', () => {
                document.getElementById('cartSidebar').classList.remove('active');
                document.getElementById('overlay').classList.remove('active');
                document.body.style.overflow = '';
            });
            
            // Continue Shopping
            document.getElementById('continueShoppingBtn').addEventListener('click', () => {
                document.getElementById('cartSidebar').classList.remove('active');
                document.getElementById('overlay').classList.remove('active');
                document.body.style.overflow = '';
            });
            
            // Checkout Button
            document.getElementById('checkoutBtn').addEventListener('click', startCheckout);
            
            // Checkout Steps
            document.getElementById('continueToShippingBtn').addEventListener('click', () => {
                const email = document.getElementById('checkoutEmail').value;
                const name = document.getElementById('checkoutName').value;
                const phone = document.getElementById('checkoutPhone').value;
                const error = document.getElementById('contactError');
                
                if (!email || !name || !phone) {
                    error.textContent = 'Please complete all contact information';
                    error.classList.add('active');
                    return;
                }
                
                goToCheckoutStep(2);
            });
            
            document.getElementById('backToContactBtn').addEventListener('click', () => goToCheckoutStep(1));
            
            document.getElementById('continueToPaymentBtn').addEventListener('click', () => {
                const address = document.getElementById('checkoutAddress').value;
                const city = document.getElementById('checkoutCity').value;
                const zip = document.getElementById('checkoutZip').value;
                const country = document.getElementById('checkoutCountry').value;
                const error = document.getElementById('shippingError');
                
                if (!address || !city || !zip || !country) {
                    error.textContent = 'Please complete shipping address';
                    error.classList.add('active');
                    return;
                }
                
                updateCheckoutSummary();
                goToCheckoutStep(3);
            });
            
            document.getElementById('backToShippingBtn').addEventListener('click', () => goToCheckoutStep(2));
            
            // Payment Submit
            document.getElementById('submitPaymentBtn').addEventListener('click', processPayment);
            
            // Shipping Options
            document.querySelectorAll('.shipping-option').forEach(option => {
                option.addEventListener('click', function() {
                    document.querySelectorAll('.shipping-option').forEach(opt => opt.classList.remove('selected'));
                    this.classList.add('selected');
                    updateCheckoutSummary();
                });
            });
            
            // Checkout Cancel
            document.getElementById('checkoutCancelBtn').addEventListener('click', () => {
                document.getElementById('checkoutModal').classList.remove('active');
                document.body.style.overflow = '';
            });
            
            document.getElementById('checkoutCloseBtn').addEventListener('click', () => {
                document.getElementById('checkoutModal').classList.remove('active');
                document.body.style.overflow = '';
            });
            
            document.getElementById('checkoutBackdrop').addEventListener('click', () => {
                document.getElementById('checkoutModal').classList.remove('active');
                document.body.style.overflow = '';
            });
            
            // Auth Modal
            document.getElementById('authCloseBtn').addEventListener('click', () => {
                document.getElementById('authModal').classList.remove('active');
                document.body.style.overflow = '';
            });
            
            document.getElementById('authBackdrop').addEventListener('click', () => {
                document.getElementById('authModal').classList.remove('active');
                document.body.style.overflow = '';
            });
            
            // Auth Tabs
            document.getElementById('loginTabBtn').addEventListener('click', () => {
                document.querySelectorAll('.auth-tab').forEach(tab => tab.classList.remove('active'));
                document.querySelectorAll('.auth-form').forEach(form => form.classList.remove('active'));
                document.getElementById('loginTabBtn').classList.add('active');
                document.getElementById('loginForm').classList.add('active');
            });
            
            document.getElementById('registerTabBtn').addEventListener('click', () => {
                document.querySelectorAll('.auth-tab').forEach(tab => tab.classList.remove('active'));
                document.querySelectorAll('.auth-form').forEach(form => form.classList.remove('active'));
                document.getElementById('registerTabBtn').classList.add('active');
                document.getElementById('registerForm').classList.add('active');
            });
            
            // Auth Forms
            document.getElementById('loginForm').addEventListener('submit', login);
            document.getElementById('registerForm').addEventListener('submit', register);
            
            // Dashboard
            document.getElementById('dashboardCloseBtn').addEventListener('click', () => {
                document.getElementById('dashboardModal').classList.remove('active');
                document.body.style.overflow = '';
            });
            
            document.getElementById('dashboardBackdrop').addEventListener('click', () => {
                document.getElementById('dashboardModal').classList.remove('active');
                document.body.style.overflow = '';
            });
            
            // Dashboard Tabs
            document.getElementById('dashboardOrdersTab').addEventListener('click', () => {
                document.querySelectorAll('.dashboard-tab').forEach(tab => tab.classList.remove('active'));
                document.querySelectorAll('.dashboard-section').forEach(section => section.classList.remove('active'));
                document.getElementById('dashboardOrdersTab').classList.add('active');
                document.getElementById('ordersTab').classList.add('active');
            });
            
            document.getElementById('dashboardProductsTab').addEventListener('click', () => {
                document.querySelectorAll('.dashboard-tab').forEach(tab => tab.classList.remove('active'));
                document.querySelectorAll('.dashboard-section').forEach(section => section.classList.remove('active'));
                document.getElementById('dashboardProductsTab').classList.add('active');
                document.getElementById('productsTab').classList.add('active');
            });
            
            document.getElementById('dashboardUsersTab').addEventListener('click', () => {
                document.querySelectorAll('.dashboard-tab').forEach(tab => tab.classList.remove('active'));
                document.querySelectorAll('.dashboard-section').forEach(section => section.classList.remove('active'));
                document.getElementById('dashboardUsersTab').classList.add('active');
                document.getElementById('usersTab').classList.add('active');
            });
            
            document.getElementById('dashboardAnalyticsTab').addEventListener('click', () => {
                document.querySelectorAll('.dashboard-tab').forEach(tab => tab.classList.remove('active'));
                document.querySelectorAll('.dashboard-section').forEach(section => section.classList.remove('active'));
                document.getElementById('dashboardAnalyticsTab').classList.add('active');
                document.getElementById('analyticsTab').classList.add('active');
            });
            
            // Add Product Button
            document.getElementById('addProductBtn').addEventListener('click', showAddProductModal);
            
            // Add Product Modal
            document.getElementById('addProductCloseBtn').addEventListener('click', () => {
                document.getElementById('addProductModal').classList.remove('active');
                document.body.style.overflow = '';
            });
            
            document.getElementById('addProductBackdrop').addEventListener('click', () => {
                document.getElementById('addProductModal').classList.remove('active');
                document.body.style.overflow = '';
            });
            
            document.getElementById('addProductCancelBtn').addEventListener('click', () => {
                document.getElementById('addProductModal').classList.remove('active');
                document.body.style.overflow = '';
            });
            
            document.getElementById('addProductForm').addEventListener('submit', addProduct);
            
            // Image Upload
            document.getElementById('imageUploadArea').addEventListener('click', () => {
                document.getElementById('productImage').click();
            });
            
            document.getElementById('productImage').addEventListener('change', function(e) {
                const file = e.target.files[0];
                if (file) {
                    const reader = new FileReader();
                    reader.onload = function(e) {
                        const imagePreview = document.getElementById('imagePreview');
                        imagePreview.innerHTML = `<img src="${e.target.result}" alt="Product Image">`;
                    };
                    reader.readAsDataURL(file);
                }
            });
            
            // Success Message
            document.getElementById('continueShoppingSuccessBtn').addEventListener('click', () => {
                document.getElementById('successMessage').classList.remove('active');
                document.body.style.overflow = '';
            });
            
            // Quick View Modal
            document.getElementById('closeQuickView').addEventListener('click', () => {
                document.getElementById('quickViewModal').classList.remove('active');
                document.body.style.overflow = '';
            });
            
            document.getElementById('quickViewBackdrop').addEventListener('click', () => {
                document.getElementById('quickViewModal').classList.remove('active');
                document.body.style.overflow = '';
            });
            
            // Filter Listeners
            setupFilterListeners();
            
            // Home Logo
            document.getElementById('homeLogo').addEventListener('click', (e) => {
                e.preventDefault();
                state.activeFilters.category = 'all';
                state.currentPage = 1;
                renderProducts();
                window.scrollTo({ top: 0, behavior: 'smooth' });
            });
        }

        function setupFilterListeners() {
            // Category filters
            document.querySelectorAll('#categoryFilters .filter-option').forEach(option => {
                option.addEventListener('click', function() {
                    const filter = this.dataset.filter;
                    
                    // Update checkbox
                    document.querySelectorAll('#categoryFilters .filter-checkbox').forEach(cb => {
                        cb.classList.remove('checked');
                    });
                    this.querySelector('.filter-checkbox').classList.add('checked');
                    
                    // Update active filter
                    state.activeFilters.category = filter;
                    state.currentPage = 1;
                    
                    // Re-render
                    renderProducts();
                });
            });
            
            // Style filters
            document.querySelectorAll('#styleFilters .filter-option').forEach(option => {
                option.addEventListener('click', function() {
                    const style = this.dataset.style;
                    const checkbox = this.querySelector('.filter-checkbox');
                    
                    checkbox.classList.toggle('checked');
                    
                    if (checkbox.classList.contains('checked')) {
                        if (!state.activeFilters.style.includes(style)) {
                            state.activeFilters.style.push(style);
                        }
                    } else {
                        state.activeFilters.style = state.activeFilters.style.filter(s => s !== style);
                    }
                    
                    state.currentPage = 1;
                    renderProducts();
                });
            });
            
            // Price filters
            document.querySelectorAll('#priceFilters .filter-option').forEach(option => {
                option.addEventListener('click', function() {
                    const price = this.dataset.price;
                    const checkbox = this.querySelector('.filter-checkbox');
                    
                    checkbox.classList.toggle('checked');
                    
                    if (checkbox.classList.contains('checked')) {
                        if (!state.activeFilters.price.includes(price)) {
                            state.activeFilters.price.push(price);
                        }
                    } else {
                        state.activeFilters.price = state.activeFilters.price.filter(p => p !== price);
                    }
                    
                    state.currentPage = 1;
                    renderProducts();
                });
            });
            
            // Filter group toggle
            document.querySelectorAll('.filter-group-title').forEach(title => {
                title.addEventListener('click', function() {
                    const group = this.dataset.group;
                    const content = document.getElementById(`${group}Filters`);
                    const icon = this.querySelector('i');
                    
                    content.classList.toggle('collapsed');
                    icon.style.transform = content.classList.contains('collapsed') ? 'rotate(-90deg)' : 'rotate(0deg)';
                });
            });
        }

        function closeFilter() {
            document.getElementById('filterSidebar').classList.remove('active');
            document.getElementById('overlay').classList.remove('active');
            document.body.style.overflow = '';
        }

        function closeMobileMenu() {
            document.getElementById('mobileMenu').classList.remove('active');
            document.getElementById('overlay').classList.remove('active');
            document.body.style.overflow = '';
        }
    </script>
</body>
    </html>
