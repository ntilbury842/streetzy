<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>STREETZY | Premium Streetwear</title>
    <script src="https://js.stripe.com/v3/"></script>
    <style>
        /* ===== RESET & BASE ===== */
        * { 
            margin: 0; 
            padding: 0; 
            box-sizing: border-box; 
            -webkit-tap-highlight-color: transparent;
        }
        
        html, body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: #fff;
            color: #000;
            overflow-x: hidden;
            width: 100%;
            position: relative;
            min-height: 100vh;
            padding-bottom: 70px;
            scroll-behavior: smooth;
        }
        
        /* ===== ANNOUNCEMENT BAR - FIXED ===== */
        .announcement-bar {
            background: #000;
            color: #fff;
            padding: 10px 0;
            font-size: 12px;
            font-weight: 600;
            letter-spacing: 0.5px;
            position: relative;
            z-index: 1001;
            overflow: hidden;
            height: 36px;
            display: flex;
            align-items: center;
            width: 100%;
        }
        
        .announcement-container {
            display: flex;
            white-space: nowrap;
            animation: scrollLoop 25s linear infinite;
        }
        
        .announcement-item {
            padding: 0 50px;
            white-space: nowrap;
        }
        
        @keyframes scrollLoop {
            0% {
                transform: translateX(100%);
            }
            100% {
                transform: translateX(-100%);
            }
        }
        
        /* ===== HEADER ===== */
        .header {
            position: sticky;
            top: 0;
            background: #fff;
            border-bottom: 1px solid #e8e8e8;
            z-index: 1000;
            padding: 0 16px;
            height: 60px;
            display: flex;
            align-items: center;
            transition: transform 0.3s ease;
        }
        
        .header.hidden {
            transform: translateY(-100%);
        }
        
        .header-container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        
        .logo {
            font-size: 22px;
            font-weight: 900;
            color: #000;
            text-decoration: none;
            letter-spacing: -0.5px;
            cursor: pointer;
            transition: opacity 0.3s ease;
        }
        
        .logo:active {
            opacity: 0.7;
        }
        
        /* ===== MAIN NAV ===== */
        .main-nav {
            display: none;
            gap: 24px;
            align-items: center;
        }
        
        .nav-link {
            font-size: 14px;
            font-weight: 600;
            color: #000;
            text-decoration: none;
            padding: 8px 0;
            position: relative;
            cursor: pointer;
            transition: color 0.3s ease;
        }
        
        .nav-link::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 2px;
            background: #000;
            transition: width 0.3s;
        }
        
        .nav-link:hover::after {
            width: 100%;
        }
        
        /* ===== BOTTOM NAVIGATION BAR ===== */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: #fff;
            border-top: 1px solid #e8e8e8;
            z-index: 999;
            display: flex;
            justify-content: space-around;
            padding: 10px 0;
            box-shadow: 0 -2px 10px rgba(0,0,0,0.05);
            display: none;
            transform: translateY(0);
            transition: transform 0.3s ease;
        }
        
        .bottom-nav.hidden {
            transform: translateY(100%);
        }
        
        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-decoration: none;
            color: #666;
            font-size: 10px;
            font-weight: 600;
            flex: 1;
            padding: 8px 0;
            cursor: pointer;
            transition: all 0.2s;
            background: none;
            border: none;
            font-family: inherit;
            position: relative;
        }
        
        .nav-item.active {
            color: #000;
        }
        
        .nav-item:hover {
            color: #000;
        }
        
        .nav-icon {
            width: 24px;
            height: 24px;
            margin-bottom: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: transform 0.2s;
        }
        
        .nav-item:active .nav-icon {
            transform: scale(0.9);
        }
        
        /* ===== HEADER ACTIONS ===== */
        .header-actions {
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .currency-selector {
            border: 1.5px solid #000;
            padding: 6px 30px 6px 12px;
            border-radius: 6px;
            font-size: 13px;
            font-weight: 600;
            background: #fff;
            cursor: pointer;
            appearance: none;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right 10px center;
            background-size: 16px;
            min-width: 100px;
            transition: border-color 0.3s;
        }
        
        .currency-selector:focus {
            border-color: #666;
            outline: none;
        }
        
        .icon-btn {
            background: #000;
            border: none;
            width: 36px;
            height: 36px;
            border-radius: 6px;
            cursor: pointer;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            transition: transform 0.2s, background-color 0.2s;
        }
        
        .icon-btn:active {
            transform: scale(0.95);
        }
        
        .icon-btn:hover {
            background-color: #333;
        }
        
        .cart-count {
            position: absolute;
            top: -5px;
            right: -5px;
            background: #ff3b30;
            color: #fff;
            font-size: 10px;
            font-weight: 700;
            width: 18px;
            height: 18px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        /* ===== USER MENU ===== */
        .user-menu {
            position: relative;
        }
        
        .user-dropdown {
            position: absolute;
            top: 100%;
            right: 0;
            background: #fff;
            border: 1px solid #e8e8e8;
            border-radius: 8px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            min-width: 200px;
            display: none;
            z-index: 1001;
            margin-top: 8px;
            transform-origin: top right;
        }
        
        .user-dropdown.active {
            display: block;
            animation: fadeIn 0.2s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .dropdown-item {
            display: block;
            padding: 12px 16px;
            text-decoration: none;
            color: #000;
            font-size: 14px;
            font-weight: 500;
            border-bottom: 1px solid #f5f5f5;
            transition: background 0.2s;
            cursor: pointer;
            background: none;
            border: none;
            width: 100%;
            text-align: left;
            font-family: inherit;
        }
        
        .dropdown-item:last-child {
            border-bottom: none;
        }
        
        .dropdown-item:hover {
            background: #f9f9f9;
        }
        
        .user-email {
            padding: 12px 16px;
            font-size: 13px;
            color: #666;
            border-bottom: 1px solid #f5f5f5;
            font-weight: 500;
        }
        
        /* ===== HERO ===== */
        .hero {
            background: #000;
            color: #fff;
            padding: 60px 20px;
            text-align: center;
        }
        
        .hero-title {
            font-size: clamp(28px, 5vw, 48px);
            font-weight: 900;
            margin-bottom: 16px;
            line-height: 1.1;
        }
        
        .hero-subtitle {
            font-size: clamp(13px, 2vw, 15px);
            color: rgba(255,255,255,0.8);
            margin-bottom: 30px;
            max-width: 500px;
            margin-left: auto;
            margin-right: auto;
        }
        
        .hero-buttons {
            display: flex;
            gap: 12px;
            justify-content: center;
            flex-wrap: wrap;
        }
        
        /* ===== BUTTONS ===== */
        .btn {
            padding: 14px 32px;
            font-size: 14px;
            font-weight: 700;
            text-decoration: none;
            border: none;
            cursor: pointer;
            border-radius: 8px;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            min-height: 46px;
            min-width: 150px;
            transition: all 0.2s;
            letter-spacing: 0.3px;
            position: relative;
            overflow: hidden;
        }
        
        .btn:active {
            transform: scale(0.98);
        }
        
        .btn-white {
            background: #fff;
            color: #000;
        }
        
        .btn-black {
            background: #000;
            color: #fff;
            border: 1.5px solid #000;
        }
        
        /* ===== PRODUCTS SECTION ===== */
        .products-section {
            padding: 60px 20px;
            max-width: 1200px;
            margin: 0 auto;
            display: block;
        }
        
        .section-title {
            text-align: center;
            font-size: clamp(24px, 4vw, 28px);
            font-weight: 800;
            margin-bottom: 40px;
        }
        
        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
            gap: 20px;
        }
        
        @media (min-width: 768px) {
            .products-grid {
                grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            }
        }
        
        @media (min-width: 1024px) {
            .products-grid {
                grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
            }
        }
        
        .product-card {
            background: #fff;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 10px rgba(0,0,0,0.08);
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
        }
        
        .product-card:hover {
            box-shadow: 0 5px 20px rgba(0,0,0,0.15);
            transform: translateY(-5px);
        }
        
        .product-image {
            width: 100%;
            height: 200px;
            background: #f5f5f5;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 40px;
            font-weight: 900;
            color: #ddd;
            transition: transform 0.3s ease;
        }
        
        .product-card:hover .product-image {
            transform: scale(1.05);
        }
        
        .product-info {
            padding: 16px;
        }
        
        .product-name {
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 8px;
            line-height: 1.4;
        }
        
        .product-price {
            font-size: 16px;
            font-weight: 700;
            color: #000;
        }
        
        /* ===== SEARCH SECTION ===== */
        .search-section {
            padding: 60px 20px;
            max-width: 1200px;
            margin: 0 auto;
            display: none;
        }
        
        .search-box {
            margin-bottom: 40px;
            position: relative;
        }
        
        .search-input {
            width: 100%;
            padding: 16px 20px;
            font-size: 16px;
            border: 2px solid #000;
            border-radius: 8px;
            font-family: inherit;
            transition: border-color 0.3s;
        }
        
        .search-input:focus {
            border-color: #666;
            outline: none;
        }
        
        /* ===== ACCOUNT SECTION ===== */
        .account-section {
            padding: 60px 20px;
            max-width: 1200px;
            margin: 0 auto;
            display: none;
        }
        
        .account-card {
            background: #fff;
            border-radius: 12px;
            padding: 40px;
            box-shadow: 0 2px 20px rgba(0,0,0,0.08);
            max-width: 500px;
            margin: 0 auto;
        }
        
        /* ===== SECTION HEADERS ===== */
        .section-header {
            display: flex;
            justify-content: center;
            align-items: center;
            margin-bottom: 30px;
            position: relative;
            min-height: 50px;
        }
        
        .back-btn {
            background: none;
            border: none;
            font-size: 14px;
            font-weight: 600;
            color: #000;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            position: absolute;
            left: 0;
            padding: 10px 16px;
            border-radius: 6px;
            transition: background-color 0.2s;
        }
        
        .back-btn:hover {
            background-color: #f5f5f5;
        }
        
        /* ===== MODALS ===== */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.8);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 2000;
            padding: 20px;
            animation: fadeIn 0.2s ease;
        }
        
        .modal-overlay.active {
            display: flex;
        }
        
        .modal-content {
            background: #fff;
            width: 100%;
            max-width: 420px;
            border-radius: 12px;
            overflow: hidden;
            position: relative;
            animation: slideUp 0.2s ease;
        }
        
        .modal-close {
            position: absolute;
            top: 16px;
            right: 16px;
            background: #000;
            border: none;
            width: 32px;
            height: 32px;
            border-radius: 50%;
            font-size: 18px;
            cursor: pointer;
            z-index: 1;
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: transform 0.2s;
        }
        
        .modal-close:active {
            transform: scale(0.9);
        }
        
        /* ===== CART ===== */
        .cart-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.8);
            display: none;
            z-index: 1999;
        }
        
        .cart-overlay.active {
            display: block;
        }
        
        .cart-sidebar {
            position: fixed;
            top: 0;
            right: -100%;
            width: 100%;
            height: 100vh;
            background: #fff;
            z-index: 2000;
            transition: right 0.3s ease;
            display: flex;
            flex-direction: column;
        }
        
        .cart-sidebar.active {
            right: 0;
        }
        
        /* ===== CHECKOUT ===== */
        .checkout-modal {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.95);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 2001;
            padding: 16px;
        }
        
        .checkout-modal.active {
            display: flex;
        }
        
        .checkout-content {
            background: #fff;
            width: 100%;
            max-width: 440px;
            border-radius: 12px;
            overflow: hidden;
            max-height: 85vh;
            overflow-y: auto;
        }
        
        /* ===== DASHBOARD ===== */
        .dashboard-modal {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.9);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 2004;
            padding: 20px;
        }
        
        .dashboard-modal.active {
            display: flex;
        }
        
        .dashboard-content {
            background: #fff;
            width: 100%;
            max-width: 800px;
            border-radius: 12px;
            overflow: hidden;
            max-height: 85vh;
            overflow-y: auto;
        }
        
        /* ===== ADD PRODUCT MODAL ===== */
        .add-product-modal {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.9);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 2005;
            padding: 20px;
        }
        
        .add-product-modal.active {
            display: flex;
        }
        
        .add-product-content {
            background: #fff;
            width: 100%;
            max-width: 500px;
            border-radius: 12px;
            overflow: hidden;
        }
        
        /* ===== FOOTER ===== */
        .footer {
            background: #000;
            color: #fff;
            padding: 50px 20px 24px;
            margin-top: 60px;
            position: relative;
        }
        
        /* ===== RESPONSIVE ===== */
        @media (min-width: 768px) {
            .main-nav {
                display: flex;
            }
            
            .bottom-nav {
                display: none;
            }
            
            .cart-sidebar {
                width: 420px;
                right: -420px;
            }
        }
        
        @media (max-width: 767px) {
            .main-nav {
                display: none;
            }
            
            .bottom-nav {
                display: flex;
            }
            
            .header-actions .currency-selector {
                display: none;
            }
        }
        
        /* ===== LOADING ===== */
        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(255,255,255,0.95);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 2002;
            flex-direction: column;
        }
        
        .loading-overlay.active {
            display: flex;
        }
        
        .loader {
            width: 40px;
            height: 40px;
            border: 3px solid #f3f3f3;
            border-top: 3px solid #000;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* ===== SUCCESS MESSAGE ===== */
        .success-message {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: #fff;
            border-radius: 12px;
            padding: 40px;
            text-align: center;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
            z-index: 2006;
            display: none;
            max-width: 300px;
            width: 90%;
        }
        
        .success-message.active {
            display: block;
        }
        
        /* ===== TOAST MESSAGES ===== */
        .toast {
            position: fixed;
            top: 80px;
            right: 20px;
            padding: 12px 20px;
            border-radius: 8px;
            font-weight: 600;
            z-index: 3000;
            animation: slideIn 0.3s ease;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            min-width: 250px;
            text-align: center;
        }
        
        .toast-success {
            background: #4cd964;
            color: white;
        }
        
        .toast-error {
            background: #ff3b30;
            color: white;
        }
        
        @keyframes slideIn {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        
        /* Scroll prevention */
        body.no-scroll {
            overflow: hidden;
        }
    </style>
</head>
<body>
    <!-- Announcement Bar -->
    <div class="announcement-bar" id="announcementBar">
        <div class="announcement-container" id="announcementContainer">
            <span class="announcement-item">FREE SHIPPING ON ALL ORDERS OVER $70</span>
            <span class="announcement-item">FREE SHIPPING ON ALL ORDERS OVER $70</span>
            <span class="announcement-item">FREE SHIPPING ON ALL ORDERS OVER $70</span>
            <span class="announcement-item">FREE SHIPPING ON ALL ORDERS OVER $70</span>
        </div>
    </div>

    <!-- Header -->
    <header class="header">
        <div class="header-container">
            <a href="#" class="logo" id="homeLogo">STREETZY</a>
            
            <nav class="main-nav">
                <a href="#" class="nav-link" id="navAllProducts">All Products</a>
                <a href="#" class="nav-link" id="navHoodies">Hoodies</a>
                <a href="#" class="nav-link" id="navTees">Tees</a>
                <a href="#" class="nav-link" id="navHeadwear">Headwear</a>
            </nav>
            
            <div class="header-actions">
                <select class="currency-selector" id="currencySelector">
                    <option value="USD">USD ($)</option>
                    <option value="EUR">EUR (‚Ç¨)</option>
                    <option value="GBP">GBP (¬£)</option>
                    <option value="AUD">AUD ($)</option>
                </select>
                
                <button class="icon-btn" id="searchBtn" title="Search">üîç</button>
                
                <div class="user-menu">
                    <button class="icon-btn" id="userBtn" title="Account">üë§</button>
                    <div class="user-dropdown" id="userDropdown">
                        <div class="user-email" id="userEmail">Not logged in</div>
                        <button class="dropdown-item" id="loginLink">Login</button>
                        <button class="dropdown-item" id="registerLink">Register</button>
                        <button class="dropdown-item" id="myOrdersLink">My Orders</button>
                        <button class="dropdown-item" id="dashboardLink" style="display: none;">Owner Dashboard</button>
                        <button class="dropdown-item" id="logoutBtn" style="display: none;">Logout</button>
                    </div>
                </div>
                
                <button class="icon-btn" id="cartBtn" title="Cart">üõí
                    <span class="cart-count" id="cartCount">0</span>
                </button>
            </div>
        </div>
    </header>

    <!-- Bottom Navigation (Mobile) -->
    <nav class="bottom-nav">
        <button class="nav-item active" id="bottomHome">üè† Home</button>
        <button class="nav-item" id="bottomSearch">üîç Search</button>
        <button class="nav-item" id="bottomOrders">üì¶ Orders</button>
        <button class="nav-item" id="bottomCart">üõí Cart</button>
        <button class="nav-item" id="bottomAccount">üë§ Account</button>
    </nav>

    <!-- Hero -->
    <section class="hero" id="heroSection">
        <h1 class="hero-title">ELEVATE YOUR STREETWEAR</h1>
        <p class="hero-subtitle">Premium quality essentials designed for the modern urban lifestyle.</p>
        <div class="hero-buttons">
            <button class="btn btn-white" id="shopCollectionBtn">Shop Collection</button>
        </div>
    </section>

    <!-- Products -->
    <section class="products-section" id="productsSection">
        <h2 class="section-title" id="sectionTitle">All Products</h2>
        <div class="products-grid" id="productsGrid"></div>
    </section>

    <!-- Search Section -->
    <section class="search-section" id="searchSection">
        <div class="section-header">
            <button class="back-btn" id="searchBackBtn">‚Üê Back</button>
            <h2 class="section-title">Search Products</h2>
        </div>
        <input type="text" class="search-input" id="searchInput" placeholder="Search for products...">
        <div class="products-grid" id="searchResults"></div>
    </section>

    <!-- Orders Section -->
    <section class="orders-section" id="ordersSection">
        <div class="section-header">
            <button class="back-btn" id="ordersBackBtn">‚Üê Back</button>
            <h2 class="section-title">My Orders</h2>
        </div>
        <div class="orders-tabs">
            <button class="orders-tab active" id="processingTab">Processing</button>
            <button class="orders-tab" id="shippedTab">Shipped</button>
        </div>
        <div class="orders-content active" id="processingOrders"></div>
        <div class="orders-content" id="shippedOrders"></div>
    </section>

    <!-- Account Section -->
    <section class="account-section" id="accountSection">
        <div class="section-header">
            <button class="back-btn" id="accountBackBtn">‚Üê Back</button>
            <h2 class="section-title">My Account</h2>
        </div>
        <div class="account-card" id="accountCard"></div>
    </section>

    <!-- Authentication Modal -->
    <div class="modal-overlay" id="authModal">
        <div class="modal-content">
            <button class="modal-close" id="authCloseBtn">√ó</button>
            <div class="auth-tabs">
                <button class="auth-tab active" id="loginTabBtn">Login</button>
                <button class="auth-tab" id="registerTabBtn">Register</button>
            </div>
            <div class="auth-body">
                <form id="loginForm" class="auth-form active">
                    <input type="text" placeholder="Email or Username" id="loginEmail" required>
                    <input type="password" placeholder="Password" id="loginPassword" required>
                    <button type="submit" class="btn btn-black">Login</button>
                </form>
                <form id="registerForm" class="auth-form">
                    <input type="text" placeholder="Username" id="registerUsername" required>
                    <input type="email" placeholder="Email" id="registerEmail" required>
                    <input type="password" placeholder="Password" id="registerPassword" required>
                    <input type="password" placeholder="Confirm Password" id="registerConfirm" required>
                    <button type="submit" class="btn btn-black">Create Account</button>
                </form>
            </div>
        </div>
    </div>

    <!-- Owner Dashboard -->
    <div class="dashboard-modal" id="dashboardModal">
        <div class="dashboard-content">
            <button class="modal-close" id="dashboardCloseBtn">√ó</button>
            <div class="dashboard-tabs">
                <button class="dashboard-tab active" id="dashboardOrdersTab">Orders</button>
                <button class="dashboard-tab" id="dashboardProductsTab">Products</button>
                <button class="dashboard-tab" id="dashboardUsersTab">Users</button>
            </div>
            <div class="dashboard-body">
                <div class="dashboard-section active" id="ordersTab">
                    <table class="orders-table">
                        <thead>
                            <tr><th>Order ID</th><th>Customer</th><th>Total</th><th>Status</th></tr>
                        </thead>
                        <tbody id="allOrdersList"></tbody>
                    </table>
                </div>
                <div class="dashboard-section" id="productsTab">
                    <button class="btn btn-black" id="addProductBtn">Add Product</button>
                    <button class="btn" id="deleteAllProductsBtn">Delete All Products</button>
                    <table class="orders-table">
                        <thead>
                            <tr><th>ID</th><th>Name</th><th>Price</th><th>Actions</th></tr>
                        </thead>
                        <tbody id="dashboardProductsList"></tbody>
                    </table>
                </div>
                <div class="dashboard-section" id="usersTab">
                    <table class="orders-table">
                        <thead>
                            <tr><th>Username</th><th>Email</th><th>Orders</th></tr>
                        </thead>
                        <tbody id="allUsersList"></tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <!-- Add Product Modal -->
    <div class="add-product-modal" id="addProductModal">
        <div class="add-product-content">
            <button class="modal-close" id="addProductCloseBtn">√ó</button>
            <form id="addProductForm">
                <input type="text" placeholder="Product Name" id="productName" required>
                <input type="number" placeholder="Price ($)" id="productPrice" required>
                <select id="productCategory" required>
                    <option value="hoodies">Hoodies</option>
                    <option value="tees">Tees</option>
                    <option value="headwear">Headwear</option>
                </select>
                <button type="submit" class="btn btn-black">Add Product</button>
            </form>
        </div>
    </div>

    <!-- Product Modal -->
    <div class="modal-overlay" id="productModal">
        <div class="modal-content">
            <button class="modal-close" id="productCloseBtn">√ó</button>
            <div id="modalImage"></div>
            <h2 id="modalTitle"></h2>
            <div id="modalPrice"></div>
            <div id="sizeButtons"></div>
            <div class="quantity-selector">
                <button id="quantityDecrease">‚àí</button>
                <span id="modalQuantity">1</span>
                <button id="quantityIncrease">+</button>
            </div>
            <button class="btn btn-black" id="addToCartBtn">Add to Cart</button>
            <button class="btn btn-black" id="buyNowBtn">Buy Now</button>
        </div>
    </div>

    <!-- Cart -->
    <div class="cart-overlay" id="cartOverlay"></div>
    <div class="cart-sidebar" id="cartSidebar">
        <div class="cart-header">
            <div class="cart-title">Shopping Cart</div>
            <button class="cart-close" id="cartCloseBtn">√ó</button>
        </div>
        <div class="cart-items" id="cartItems"></div>
        <div class="cart-footer">
            <div id="cartTotal">Total: $0.00</div>
            <button class="btn btn-black" id="checkoutBtn">Checkout</button>
        </div>
    </div>

    <!-- Checkout Modal -->
    <div class="checkout-modal" id="checkoutModal">
        <div class="checkout-content">
            <button class="modal-close" id="checkoutCloseBtn">√ó</button>
            <div class="checkout-steps">
                <div class="step active">1. Contact</div>
                <div class="step">2. Shipping</div>
                <div class="step">3. Payment</div>
            </div>
            <div class="checkout-body">
                <div class="checkout-section active" id="contactSection">
                    <input type="email" placeholder="Email" id="checkoutEmail" required>
                    <input type="text" placeholder="Full Name" id="checkoutName" required>
                    <button class="btn btn-black" id="continueToShippingBtn">Continue</button>
                </div>
                <div class="checkout-section" id="shippingSection">
                    <input type="text" placeholder="Address" id="checkoutAddress" required>
                    <input type="text" placeholder="City" id="checkoutCity" required>
                    <input type="text" placeholder="ZIP Code" id="checkoutZip" required>
                    <button class="btn btn-black" id="continueToPaymentBtn">Continue</button>
                </div>
                <div class="checkout-section" id="paymentSection">
                    <input type="text" placeholder="Card Number" id="cardNumber" required>
                    <input type="text" placeholder="Expiry" id="cardExpiry" required>
                    <input type="text" placeholder="CVC" id="cardCvc" required>
                    <button class="btn btn-black" id="submitPaymentBtn">Pay Now</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Loading Overlay -->
    <div class="loading-overlay" id="loadingOverlay">
        <div class="loader"></div>
    </div>

    <!-- Success Message -->
    <div class="success-message" id="successMessage">
        <div class="success-icon">‚úì</div>
        <h3>Payment Successful!</h3>
        <button class="btn btn-black" id="continueShoppingSuccessBtn">Continue Shopping</button>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-content">
            <div>
                <h3>STREETZY</h3>
                <p>Premium streetwear essentials crafted for the modern individual.</p>
            </div>
            <div>
                <h3>Shop</h3>
                <ul>
                    <li><a href="#" id="footerAllProducts">All Products</a></li>
                    <li><a href="#" id="footerHoodies">Hoodies</a></li>
                    <li><a href="#" id="footerTees">Tees</a></li>
                    <li><a href="#" id="footerHeadwear">Headwear</a></li>
                </ul>
            </div>
            <div>
                <h3>Support</h3>
                <ul>
                    <li><a href="#" id="footerShipping">Shipping</a></li>
                    <li><a href="#" id="footerReturns">Returns</a></li>
                    <li><a href="#" id="footerContact">Contact</a></li>
                </ul>
            </div>
        </div>
        <div class="footer-bottom">
            <p>¬© 2026 STREETZY. All rights reserved.</p>
        </div>
    </footer>

    <script>
        // ===== STATE MANAGEMENT =====
        let currentUser = JSON.parse(localStorage.getItem('streetzy_currentUser')) || null;
        let cart = JSON.parse(localStorage.getItem('streetzy_cart')) || [];
        let products = JSON.parse(localStorage.getItem('streetzy_products')) || [
            {id: 1, name: 'ESSENTIAL OVERSIZED HOODIE', price: 85, category: 'hoodies'},
            {id: 2, name: 'CLASSIC LOGO TEE', price: 35, category: 'tees'},
            {id: 3, name: 'SIGNATURE SNAPBACK', price: 30, category: 'headwear'},
            {id: 4, name: 'PREMIUM KNIT BEANIE', price: 25, category: 'headwear'},
            {id: 5, name: 'ZIP-UP TECH HOODIE', price: 95, category: 'hoodies'},
            {id: 6, name: 'STRIPED ESSENTIAL TEE', price: 40, category: 'tees'}
        ];
        
        let orders = JSON.parse(localStorage.getItem('streetzy_orders')) || { processing: [], shipped: [] };
        let users = JSON.parse(localStorage.getItem('streetzy_users')) || [];
        let currentFilter = 'all';
        let currentProduct = null;
        let currentCurrency = 'USD';
        
        // Initialize owner account
        if (!users.find(u => u.email === 'ntilbury842@gmail.com')) {
            users.push({
                id: 1,
                username: 'streetzy',
                email: 'ntilbury842@gmail.com',
                password: 'Neverl8grumpydoctor',
                isOwner: true,
                joined: new Date().toISOString()
            });
            localStorage.setItem('streetzy_users', JSON.stringify(users));
        }
        
        // ===== UTILITY FUNCTIONS =====
        function showToast(message, type = 'success') {
            const toast = document.createElement('div');
            toast.className = `toast toast-${type}`;
            toast.textContent = message;
            document.body.appendChild(toast);
            
            setTimeout(() => {
                toast.remove();
            }, 3000);
        }
        
        function hideAllSections() {
            ['heroSection', 'productsSection', 'searchSection', 'ordersSection', 'accountSection'].forEach(id => {
                document.getElementById(id).style.display = 'none';
            });
        }
        
        function formatPrice(price) {
            return `$${price.toFixed(2)}`;
        }
        
        // ===== CORE FUNCTIONALITY =====
        function showHome() {
            hideAllSections();
            document.getElementById('heroSection').style.display = 'block';
            document.getElementById('productsSection').style.display = 'block';
            renderProducts();
            document.querySelectorAll('.bottom-nav .nav-item').forEach(item => item.classList.remove('active'));
            document.getElementById('bottomHome').classList.add('active');
        }
        
        function showSearch() {
            hideAllSections();
            document.getElementById('searchSection').style.display = 'block';
            document.getElementById('searchInput').focus();
            document.querySelectorAll('.bottom-nav .nav-item').forEach(item => item.classList.remove('active'));
            document.getElementById('bottomSearch').classList.add('active');
        }
        
        function showOrders() {
            if (!currentUser) {
                showLogin();
                return;
            }
            hideAllSections();
            document.getElementById('ordersSection').style.display = 'block';
            updateOrdersDisplay();
            document.querySelectorAll('.bottom-nav .nav-item').forEach(item => item.classList.remove('active'));
            document.getElementById('bottomOrders').classList.add('active');
        }
        
        function showAccount() {
            hideAllSections();
            document.getElementById('accountSection').style.display = 'block';
            updateAccountDisplay();
            document.querySelectorAll('.bottom-nav .nav-item').forEach(item => item.classList.remove('active'));
            document.getElementById('bottomAccount').classList.add('active');
        }
        
        function renderProducts() {
            const grid = document.getElementById('productsGrid');
            const filtered = currentFilter === 'all' ? products : 
                products.filter(p => p.category === currentFilter);
            
            grid.innerHTML = filtered.map(product => `
                <div class="product-card" data-id="${product.id}">
                    <div class="product-image">${product.name.charAt(0)}</div>
                    <div class="product-info">
                        <div class="product-name">${product.name}</div>
                        <div class="product-price">${formatPrice(product.price)}</div>
                    </div>
                </div>
            `).join('');
            
            document.getElementById('sectionTitle').textContent = 
                currentFilter === 'all' ? 'All Products' : 
                currentFilter.charAt(0).toUpperCase() + currentFilter.slice(1);
            
            document.querySelectorAll('.product-card').forEach(card => {
                card.addEventListener('click', function() {
                    const productId = parseInt(this.dataset.id);
                    openProductModal(productId);
                });
            });
        }
        
        function openProductModal(productId) {
            currentProduct = products.find(p => p.id === productId);
            if (!currentProduct) return;
            
            document.getElementById('modalTitle').textContent = currentProduct.name;
            document.getElementById('modalPrice').textContent = formatPrice(currentProduct.price);
            document.getElementById('modalImage').textContent = currentProduct.name.charAt(0);
            
            document.getElementById('productModal').classList.add('active');
            document.body.classList.add('no-scroll');
        }
        
        function addToCart() {
            if (!currentProduct) return;
            
            cart.push({
                id: currentProduct.id,
                name: currentProduct.name,
                price: currentProduct.price,
                quantity: 1
            });
            
            localStorage.setItem('streetzy_cart', JSON.stringify(cart));
            updateCartDisplay();
            showToast('Added to cart!');
            document.getElementById('productModal').classList.remove('active');
            document.body.classList.remove('no-scroll');
        }
        
        function updateCartDisplay() {
            const cartCount = cart.reduce((sum, item) => sum + item.quantity, 0);
            const total = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            
            document.getElementById('cartCount').textContent = cartCount;
            document.getElementById('cartItems').innerHTML = cart.length === 0 ? 
                '<div class="cart-empty">Your cart is empty</div>' :
                cart.map(item => `
                    <div class="cart-item">
                        <div>${item.name}</div>
                        <div>${formatPrice(item.price)} √ó ${item.quantity}</div>
                    </div>
                `).join('');
            
            document.getElementById('cartTotal').textContent = `Total: ${formatPrice(total)}`;
        }
        
        function openCart() {
            document.getElementById('cartOverlay').classList.add('active');
            document.getElementById('cartSidebar').classList.add('active');
            document.body.classList.add('no-scroll');
            document.querySelectorAll('.bottom-nav .nav-item').forEach(item => item.classList.remove('active'));
            document.getElementById('bottomCart').classList.add('active');
        }
        
        function startCheckout() {
            if (cart.length === 0) return;
            
            document.getElementById('cartSidebar').classList.remove('active');
            document.getElementById('cartOverlay').classList.remove('active');
            document.getElementById('checkoutModal').classList.add('active');
            
            if (currentUser) {
                document.getElementById('checkoutEmail').value = currentUser.email;
                document.getElementById('checkoutName').value = currentUser.username;
            }
        }
        
        function processPayment() {
            document.getElementById('loadingOverlay').classList.add('active');
            
            setTimeout(() => {
                const order = {
                    id: 'ORD-' + Date.now().toString().slice(-8),
                    userId: currentUser?.id,
                    date: new Date().toISOString(),
                    items: [...cart],
                    total: cart.reduce((sum, item) => sum + (item.price * item.quantity), 0)
                };
                
                orders.processing.push(order);
                localStorage.setItem('streetzy_orders', JSON.stringify(orders));
                
                cart = [];
                localStorage.setItem('streetzy_cart', JSON.stringify(cart));
                updateCartDisplay();
                
                document.getElementById('loadingOverlay').classList.remove('active');
                document.getElementById('checkoutModal').classList.remove('active');
                document.getElementById('successMessage').classList.add('active');
                
            }, 1000);
        }
        
        function updateOrdersDisplay() {
            document.getElementById('processingOrders').innerHTML = orders.processing.map(order => `
                <div class="order-item">
                    <div>Order #${order.id}</div>
                    <div>${new Date(order.date).toLocaleDateString()}</div>
                    <div>${formatPrice(order.total)}</div>
                    <div>Processing</div>
                </div>
            `).join('');
            
            document.getElementById('shippedOrders').innerHTML = orders.shipped.map(order => `
                <div class="order-item">
                    <div>Order #${order.id}</div>
                    <div>${new Date(order.date).toLocaleDateString()}</div>
                    <div>${formatPrice(order.total)}</div>
                    <div>Shipped</div>
                </div>
            `).join('');
        }
        
        // ===== AUTHENTICATION =====
        function showLogin() {
            document.getElementById('authModal').classList.add('active');
            document.body.classList.add('no-scroll');
        }
        
        function login(event) {
            event.preventDefault();
            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPassword').value;
            
            const user = users.find(u => 
                (u.email === email || u.username === email) && u.password === password
            );
            
            if (user) {
                currentUser = user;
                localStorage.setItem('streetzy_currentUser', JSON.stringify(currentUser));
                updateUserInterface();
                document.getElementById('authModal').classList.remove('active');
                document.body.classList.remove('no-scroll');
                showToast('Login successful!');
                showAccount();
            } else {
                showToast('Invalid credentials', 'error');
            }
        }
        
        function register(event) {
            event.preventDefault();
            const username = document.getElementById('registerUsername').value;
            const email = document.getElementById('registerEmail').value;
            const password = document.getElementById('registerPassword').value;
            
            if (users.find(u => u.email === email)) {
                showToast('Email already registered', 'error');
                return;
            }
            
            const newUser = {
                id: users.length + 1,
                username: username,
                email: email,
                password: password,
                isOwner: false,
                joined: new Date().toISOString()
            };
            
            users.push(newUser);
            localStorage.setItem('streetzy_users', JSON.stringify(users));
            
            currentUser = newUser;
            localStorage.setItem('streetzy_currentUser', JSON.stringify(currentUser));
            updateUserInterface();
            document.getElementById('authModal').classList.remove('active');
            document.body.classList.remove('no-scroll');
            showToast('Account created successfully!');
            showAccount();
        }
        
        function logout() {
            currentUser = null;
            localStorage.removeItem('streetzy_currentUser');
            updateUserInterface();
            showAccount();
            showToast('Logged out successfully!');
        }
        
        function updateUserInterface() {
            const userEmail = document.getElementById('userEmail');
            const logoutBtn = document.getElementById('logoutBtn');
            const dashboardLink = document.getElementById('dashboardLink');
            
            if (currentUser) {
                userEmail.textContent = currentUser.email;
                logoutBtn.style.display = 'block';
                dashboardLink.style.display = currentUser.isOwner ? 'block' : 'none';
            } else {
                userEmail.textContent = 'Not logged in';
                logoutBtn.style.display = 'none';
                dashboardLink.style.display = 'none';
            }
        }
        
        // ===== DASHBOARD FUNCTIONS =====
        function showDashboard() {
            if (!currentUser || !currentUser.isOwner) return;
            
            document.getElementById('dashboardModal').classList.add('active');
            document.body.classList.add('no-scroll');
            updateDashboard();
        }
        
        function updateDashboard() {
            // Update products table
            document.getElementById('dashboardProductsList').innerHTML = products.map(product => `
                <tr>
                    <td>${product.id}</td>
                    <td>${product.name}</td>
                    <td>${formatPrice(product.price)}</td>
                    <td>
                        <button onclick="deleteProduct(${product.id})" class="btn">Delete</button>
                        <button onclick="editProduct(${product.id})" class="btn">Edit</button>
                    </td>
                </tr>
            `).join('');
            
            // Update orders table
            const allOrders = [...orders.processing, ...orders.shipped];
            document.getElementById('allOrdersList').innerHTML = allOrders.map(order => `
                <tr>
                    <td>${order.id}</td>
                    <td>${order.userId || 'Guest'}</td>
                    <td>${formatPrice(order.total)}</td>
                    <td>${order.status || 'processing'}</td>
                </tr>
            `).join('');
            
            // Update users table
            document.getElementById('allUsersList').innerHTML = users.map(user => `
                <tr>
                    <td>${user.username}</td>
                    <td>${user.email}</td>
                    <td>${getUserOrderCount(user.id)}</td>
                </tr>
            `).join('');
        }
        
        function getUserOrderCount(userId) {
            return [...orders.processing, ...orders.shipped].filter(order => order.userId === userId).length;
        }
        
        function deleteProduct(productId) {
            if (!confirm('Delete this product?')) return;
            
            products = products.filter(p => p.id !== productId);
            localStorage.setItem('streetzy_products', JSON.stringify(products));
            renderProducts();
            updateDashboard();
            showToast('Product deleted!');
        }
        
        function deleteAllProducts() {
            if (!confirm('Delete ALL products? This cannot be undone!')) return;
            
            products = [];
            localStorage.setItem('streetzy_products', JSON.stringify(products));
            renderProducts();
            updateDashboard();
            showToast('All products deleted!');
        }
        
        function addNewProduct(event) {
            event.preventDefault();
            const name = document.getElementById('productName').value;
            const price = parseFloat(document.getElementById('productPrice').value);
            const category = document.getElementById('productCategory').value;
            
            const newProduct = {
                id: products.length > 0 ? Math.max(...products.map(p => p.id)) + 1 : 1,
                name: name,
                price: price,
                category: category
            };
            
            products.push(newProduct);
            localStorage.setItem('streetzy_products', JSON.stringify(products));
            
            document.getElementById('addProductForm').reset();
            document.getElementById('addProductModal').classList.remove('active');
            document.body.classList.remove('no-scroll');
            
            renderProducts();
            updateDashboard();
            showToast('Product added!');
        }
        
        // ===== INITIALIZATION =====
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize
            updateUserInterface();
            renderProducts();
            updateCartDisplay();
            
            // Show home
            showHome();
            
            // Event Listeners
            // Navigation
            document.getElementById('homeLogo').addEventListener('click', showHome);
            document.getElementById('shopCollectionBtn').addEventListener('click', showHome);
            
            // Top nav
            document.getElementById('navAllProducts').addEventListener('click', () => { currentFilter = 'all'; showHome(); });
            document.getElementById('navHoodies').addEventListener('click', () => { currentFilter = 'hoodies'; showHome(); });
            document.getElementById('navTees').addEventListener('click', () => { currentFilter = 'tees'; showHome(); });
            document.getElementById('navHeadwear').addEventListener('click', () => { currentFilter = 'headwear'; showHome(); });
            
            // Bottom nav
            document.getElementById('bottomHome').addEventListener('click', showHome);
            document.getElementById('bottomSearch').addEventListener('click', showSearch);
            document.getElementById('bottomOrders').addEventListener('click', showOrders);
            document.getElementById('bottomCart').addEventListener('click', openCart);
            document.getElementById('bottomAccount').addEventListener('click', showAccount);
            
            // Header actions
            document.getElementById('searchBtn').addEventListener('click', showSearch);
            document.getElementById('cartBtn').addEventListener('click', openCart);
            document.getElementById('userBtn').addEventListener('click', () => {
                document.getElementById('userDropdown').classList.toggle('active');
            });
            
            // User dropdown
            document.getElementById('loginLink').addEventListener('click', showLogin);
            document.getElementById('registerLink').addEventListener('click', () => {
                document.getElementById('registerTabBtn').click();
                showLogin();
            });
            document.getElementById('myOrdersLink').addEventListener('click', showOrders);
            document.getElementById('dashboardLink').addEventListener('click', showDashboard);
            document.getElementById('logoutBtn').addEventListener('click', logout);
            
            // Back buttons
            document.getElementById('searchBackBtn').addEventListener('click', showHome);
            document.getElementById('ordersBackBtn').addEventListener('click', showHome);
            document.getElementById('accountBackBtn').addEventListener('click', showHome);
            
            // Search
            document.getElementById('searchInput').addEventListener('input', function() {
                const term = this.value.toLowerCase();
                const results = products.filter(p => 
                    p.name.toLowerCase().includes(term) || 
                    p.category.toLowerCase().includes(term)
                );
                document.getElementById('searchResults').innerHTML = results.map(product => `
                    <div class="product-card" data-id="${product.id}">
                        <div class="product-image">${product.name.charAt(0)}</div>
                        <div class="product-info">
                            <div class="product-name">${product.name}</div>
                            <div class="product-price">${formatPrice(product.price)}</div>
                        </div>
                    </div>
                `).join('');
            });
            
            // Orders tabs
            document.getElementById('processingTab').addEventListener('click', function() {
                document.querySelectorAll('.orders-tab').forEach(tab => tab.classList.remove('active'));
                document.querySelectorAll('.orders-content').forEach(content => content.classList.remove('active'));
                this.classList.add('active');
                document.getElementById('processingOrders').classList.add('active');
            });
            
            document.getElementById('shippedTab').addEventListener('click', function() {
                document.querySelectorAll('.orders-tab').forEach(tab => tab.classList.remove('active'));
                document.querySelectorAll('.orders-content').forEach(content => content.classList.remove('active'));
                this.classList.add('active');
                document.getElementById('shippedOrders').classList.add('active');
            });
            
            // Auth tabs
            document.getElementById('loginTabBtn').addEventListener('click', function() {
                document.querySelectorAll('.auth-tab').forEach(tab => tab.classList.remove('active'));
                document.querySelectorAll('.auth-form').forEach(form => form.classList.remove('active'));
                this.classList.add('active');
                document.getElementById('loginForm').classList.add('active');
            });
            
            document.getElementById('registerTabBtn').addEventListener('click', function() {
                document.querySelectorAll('.auth-tab').forEach(tab => tab.classList.remove('active'));
                document.querySelectorAll('.auth-form').forEach(form => form.classList.remove('active'));
                this.classList.add('active');
                document.getElementById('registerForm').classList.add('active');
            });
            
            // Auth forms
            document.getElementById('loginForm').addEventListener('submit', login);
            document.getElementById('registerForm').addEventListener('submit', register);
            
            // Modal close buttons
            document.getElementById('authCloseBtn').addEventListener('click', () => {
                document.getElementById('authModal').classList.remove('active');
                document.body.classList.remove('no-scroll');
            });
            
            document.getElementById('productCloseBtn').addEventListener('click', () => {
                document.getElementById('productModal').classList.remove('active');
                document.body.classList.remove('no-scroll');
            });
            
            document.getElementById('cartCloseBtn').addEventListener('click', () => {
                document.getElementById('cartSidebar').classList.remove('active');
                document.getElementById('cartOverlay').classList.remove('active');
                document.body.classList.remove('no-scroll');
            });
            
            document.getElementById('cartOverlay').addEventListener('click', () => {
                document.getElementById('cartSidebar').classList.remove('active');
                document.getElementById('cartOverlay').classList.remove('active');
                document.body.classList.remove('no-scroll');
            });
            
            document.getElementById('checkoutCloseBtn').addEventListener('click', () => {
                document.getElementById('checkoutModal').classList.remove('active');
                document.body.classList.remove('no-scroll');
            });
            
            document.getElementById('dashboardCloseBtn').addEventListener('click', () => {
                document.getElementById('dashboardModal').classList.remove('active');
                document.body.classList.remove('no-scroll');
            });
            
            document.getElementById('addProductCloseBtn').addEventListener('click', () => {
                document.getElementById('addProductModal').classList.remove('active');
                document.body.classList.remove('no-scroll');
            });
            
            // Product modal actions
            document.getElementById('addToCartBtn').addEventListener('click', addToCart);
            document.getElementById('buyNowBtn').addEventListener('click', function() {
                addToCart();
                startCheckout();
            });
            
            // Cart actions
            document.getElementById('checkoutBtn').addEventListener('click', startCheckout);
            
            // Checkout actions
            document.getElementById('continueToShippingBtn').addEventListener('click', () => {
                document.getElementById('contactSection').classList.remove('active');
                document.getElementById('shippingSection').classList.add('active');
            });
            
            document.getElementById('continueToPaymentBtn').addEventListener('click', () => {
                document.getElementById('shippingSection').classList.remove('active');
                document.getElementById('paymentSection').classList.add('active');
            });
            
            document.getElementById('submitPaymentBtn').addEventListener('click', processPayment);
            
            // Success message
            document.getElementById('continueShoppingSuccessBtn').addEventListener('click', () => {
                document.getElementById('successMessage').classList.remove('active');
                showHome();
            });
            
            // Dashboard tabs
            document.getElementById('dashboardOrdersTab').addEventListener('click', function() {
                document.querySelectorAll('.dashboard-tab').forEach(tab => tab.classList.remove('active'));
                document.querySelectorAll('.dashboard-section').forEach(section => section.classList.remove('active'));
                this.classList.add('active');
                document.getElementById('ordersTab').classList.add('active');
            });
            
            document.getElementById('dashboardProductsTab').addEventListener('click', function() {
                document.querySelectorAll('.dashboard-tab').forEach(tab => tab.classList.remove('active'));
                document.querySelectorAll('.dashboard-section').forEach(section => section.classList.remove('active'));
                this.classList.add('active');
                document.getElementById('productsTab').classList.add('active');
            });
            
            document.getElementById('dashboardUsersTab').addEventListener('click', function() {
                document.querySelectorAll('.dashboard-tab').forEach(tab => tab.classList.remove('active'));
                document.querySelectorAll('.dashboard-section').forEach(section => section.classList.remove('active'));
                this.classList.add('active');
                document.getElementById('usersTab').classList.add('active');
            });
            
            // Dashboard actions
            document.getElementById('addProductBtn').addEventListener('click', () => {
                document.getElementById('addProductModal').classList.add('active');
            });
            
            document.getElementById('deleteAllProductsBtn').addEventListener('click', deleteAllProducts);
            
            document.getElementById('addProductForm').addEventListener('submit', addNewProduct);
            
            // Footer links
            document.getElementById('footerAllProducts').addEventListener('click', (e) => {
                e.preventDefault();
                currentFilter = 'all';
                showHome();
            });
            
            document.getElementById('footerShipping').addEventListener('click', (e) => {
                e.preventDefault();
                alert('Standard shipping: $5.99\nFree shipping on orders over $70');
            });
            
            // Currency selector
            document.getElementById('currencySelector').addEventListener('change', function() {
                currentCurrency = this.value;
                localStorage.setItem('streetzy_currency', currentCurrency);
                renderProducts();
                updateCartDisplay();
                showToast(`Currency changed to ${currentCurrency}`);
            });
            
            // Load saved currency
            const savedCurrency = localStorage.getItem('streetzy_currency');
            if (savedCurrency) {
                document.getElementById('currencySelector').value = savedCurrency;
                currentCurrency = savedCurrency;
            }
            
            // Close dropdowns when clicking outside
            document.addEventListener('click', function(e) {
                if (!e.target.closest('.user-menu')) {
                    document.getElementById('userDropdown').classList.remove('active');
                }
            });
            
            // Prevent flash of content
            setTimeout(() => {
                document.body.style.opacity = 1;
            }, 50);
        });
        
        // Initial render
        updateCartDisplay();
    </script>
</body>
</html>
